{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\admin\\\\admin\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Row, Col, Card, Form, Button } from \"react-bootstrap\";\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from \"sweetalert2\";\nimport { Redirect } from \"react-router-dom\";\nimport { create } from \"./api\";\nimport { isAuthenticated } from \"../../Auth/admin/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Create() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState({\n    firstName: \"\",\n    lastName: \"\",\n    middleName: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    level: \"\",\n    loading: false,\n    redirectToPage: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setValues = _React$useState2[1];\n\n  var firstName = values.firstName,\n      lastName = values.lastName,\n      middleName = values.middleName,\n      phone = values.phone,\n      email = values.email,\n      password = values.password,\n      password2 = values.password2,\n      level = values.level,\n      loading = values.loading,\n      redirectToPage = values.redirectToPage;\n\n  var handleChange = function handleChange(name) {\n    return function (event) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, event.target.value)));\n    };\n  };\n\n  var submit = function submit(event) {\n    event.preventDefault();\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n\n    if (firstName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin first Name is required\", \"error\");\n    }\n\n    if (middleName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin Middle Name is required\", \"error\");\n    }\n\n    if (lastName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin Last Name is required\", \"error\");\n    }\n\n    if (email === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Email is required\", \"error\");\n    }\n\n    if (phone === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Phone Number is required\", \"error\");\n    }\n\n    if (password !== password2) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Password must match each other\", \"error\");\n    }\n\n    handleCreate();\n  };\n\n  var handleCreate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var user, Auth, data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = {\n                firstName: firstName,\n                lastName: lastName,\n                middleName: middleName,\n                phone: phone,\n                email: email,\n                password: password,\n                password2: password2,\n                level: level\n              };\n              Auth = isAuthenticated();\n              _context.next = 4;\n              return create(user, Auth.token);\n\n            case 4:\n              data = _context.sent;\n              console.log({\n                data: data,\n                user: user\n              });\n\n              if (data) {\n                _context.next = 9;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", \"internet server error, Please, check your network connection\", \"error\");\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 9:\n              if (!data.error) {\n                _context.next = 12;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", data.error, \"error\");\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 12:\n              if (!data.message) {\n                _context.next = 17;\n                break;\n              }\n\n              Swal.fire(\"saved...\", data.message, \"success\");\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false,\n                redirectToPage: true\n              }));\n              Toast = Swal.mixin({\n                toast: true,\n                timerProgressBar: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 3000\n              });\n              return _context.abrupt(\"return\", Toast.fire({\n                animation: true,\n                type: \"success\",\n                title: \"Request is successful\"\n              }));\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleCreate() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var redirectUser = function redirectUser() {\n    if (redirectToPage) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/admin/users/create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 14\n      }, _this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Aux, {\n    children: [redirectUser(), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Card.Title, {\n              as: \"h3\",\n              children: \"Add New Admin user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"First name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"First name\",\n                      onChange: handleChange(\"firstName\"),\n                      value: firstName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Middle Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Middle name\",\n                      onChange: handleChange(\"middleName\"),\n                      value: middleName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Phone \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"phone\",\n                      onChange: handleChange(\"phone\"),\n                      value: phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"password\",\n                      placeholder: \"Password\",\n                      onChange: handleChange(\"password\"),\n                      value: password\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this), loading ? /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-secondary\",\n                    disabled: true,\n                    children: \"Loading ..\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    onClick: submit,\n                    children: \"Create ..\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"exampleForm.ControlInput1\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Last name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    placeholder: \"Last name\",\n                    onChange: handleChange(\"lastName\"),\n                    value: lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"exampleForm.ControlInput1\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"email \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"email\",\n                    placeholder: \"email\",\n                    onChange: handleChange(\"email\"),\n                    value: email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"exampleForm.ControlSelect1\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Admin Role \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    onChange: handleChange(\"level\"),\n                    value: level,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Select Role\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"Admin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"Moderator\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicPassword\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Password Confirmation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"password\",\n                    placeholder: \"Password Confirmation\",\n                    onChange: handleChange(\"password2\"),\n                    value: password2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Create, \"MewXjc2JZiu9APNNVEIszl+cafo=\");\n\n_c = Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/admin/Create.js"],"names":["React","Row","Col","Card","Form","Button","Aux","Swal","Redirect","create","isAuthenticated","Create","useState","firstName","lastName","middleName","phone","email","password","password2","level","loading","redirectToPage","values","setValues","handleChange","name","event","target","value","submit","preventDefault","fire","handleCreate","user","Auth","token","data","console","log","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","redirectUser"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Card, Form, Button } from \"react-bootstrap\";\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { create } from \"./api\";\r\nimport { isAuthenticated } from \"../../Auth/admin/api\";\r\n\r\nexport default function Create() {\r\n  const [values, setValues] = React.useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    middleName: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password2: \"\",\r\n    level: \"\",\r\n    loading: false,\r\n    redirectToPage: false,\r\n  });\r\n  const {\r\n    firstName,\r\n    lastName,\r\n    middleName,\r\n    phone,\r\n    email,\r\n    password,\r\n    password2,\r\n    level,\r\n    loading,\r\n    redirectToPage,\r\n  } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, loading: true });\r\n    if (firstName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin first Name is required\", \"error\");\r\n    }\r\n    if (middleName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin Middle Name is required\", \"error\");\r\n    }\r\n    if (lastName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin Last Name is required\", \"error\");\r\n    }\r\n    if (email === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Email is required\", \"error\");\r\n    }\r\n    if (phone === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Phone Number is required\", \"error\");\r\n    }\r\n\r\n    if (password !== password2) {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Password must match each other\", \"error\");\r\n    }\r\n    handleCreate();\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    const user = {\r\n      firstName,\r\n      lastName,\r\n      middleName,\r\n      phone,\r\n      email,\r\n      password,\r\n      password2,\r\n      level,\r\n    };\r\n    const Auth = isAuthenticated();\r\n    const data = await create(user, Auth.token);\r\n    console.log({ data, user });\r\n    if (!data) {\r\n      Swal.fire(\r\n        \"Oops...\",\r\n        \"internet server error, Please, check your network connection\",\r\n        \"error\"\r\n      );\r\n      return setValues({ ...values, loading: false });\r\n    }\r\n    if (data.error) {\r\n      Swal.fire(\"Oops...\", data.error, \"error\");\r\n      return setValues({ ...values, loading: false });\r\n    }\r\n    if (data.message) {\r\n      Swal.fire(\"saved...\", data.message, \"success\");\r\n      setValues({ ...values, loading: false, redirectToPage: true });\r\n      let Toast = Swal.mixin({\r\n        toast: true,\r\n        timerProgressBar: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n      });\r\n\r\n      return Toast.fire({\r\n        animation: true,\r\n        type: \"success\",\r\n        title: \"Request is successful\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToPage) {\r\n      return <Redirect to=\"/admin/users/create\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Aux>\r\n      {redirectUser()}\r\n      <Row>\r\n        <Col>\r\n          <Card>\r\n            <Card.Header>\r\n              <Card.Title as=\"h3\">Add New Admin user</Card.Title>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                      <Form.Label>First name</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"First name\"\r\n                        onChange={handleChange(\"firstName\")}\r\n                        value={firstName}\r\n                      />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                      <Form.Label>Middle Name</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Middle name\"\r\n                        onChange={handleChange(\"middleName\")}\r\n                        value={middleName}\r\n                      />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                      <Form.Label>Phone </Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"phone\"\r\n                        onChange={handleChange(\"phone\")}\r\n                        value={phone}\r\n                      />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                      <Form.Label>Password</Form.Label>\r\n                      <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        onChange={handleChange(\"password\")}\r\n                        value={password}\r\n                      />\r\n                    </Form.Group>\r\n\r\n                    {loading ? (\r\n                      <Button variant=\"outline-secondary\" disabled>\r\n                        Loading ..\r\n                      </Button>\r\n                    ) : (\r\n                      <Button variant=\"primary\" onClick={submit}>\r\n                        Create ..\r\n                      </Button>\r\n                    )}\r\n                  </Form>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Last name</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Last name\"\r\n                      onChange={handleChange(\"lastName\")}\r\n                      value={lastName}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>email </Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      placeholder=\"email\"\r\n                      onChange={handleChange(\"email\")}\r\n                      value={email}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                    <Form.Label>Admin Role </Form.Label>\r\n                    <Form.Control\r\n                      as=\"select\"\r\n                      onChange={handleChange(\"level\")}\r\n                      value={level}\r\n                    >\r\n                      <option>Select Role</option>\r\n                      <option value=\"1\">Admin</option>\r\n                      <option value=\"2\">Moderator</option>\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password Confirmation</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"Password Confirmation\"\r\n                      onChange={handleChange(\"password2\")}\r\n                      value={password2}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Aux>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}