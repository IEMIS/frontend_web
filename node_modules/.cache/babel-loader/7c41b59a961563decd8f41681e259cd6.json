{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{NavLink,Redirect}from'react-router-dom';import'./../../../assets/scss/style.scss';import Aux from\"../../../hoc/_Aux\";import Breadcrumb from\"../../../App/layout/AdminLayout/Breadcrumb\";import Swal from'sweetalert2';import{authenticate,login}from'./api';import Navigation from'../welcome/components/Navigation';var SignIn=function SignIn(){var _useState=useState({loading:false,password:\"\",email:\"\",redirectToPage:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var loading=values.loading,password=values.password,email=values.email,redirectToPage=values.redirectToPage;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},name,event.target.value)));};};var submit=function submit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{loading:true}));if(email===\"\"){Swal.fire('Oops...','A valid email address required!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}if(password===\"\"){Swal.fire('Oops...','password is required!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}handleSigin();};var handleSigin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,data,Toast;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user={email:email,password:password};_context.next=3;return login(user);case 3:data=_context.sent;console.log({data:data});if(data){_context.next=8;break;}Swal.fire('Oops...','internet server error, Please, check your network connection','error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 8:if(!data.error){_context.next=11;break;}Swal.fire('Oops...',data.error,'error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 11:authenticate(data,function(){setValues(_objectSpread(_objectSpread({},values),{},{loading:false,redirectToPage:true}));});Toast=Swal.mixin({toast:true,timerProgressBar:true,position:'top-end',showConfirmButton:false,timer:3000});Toast.fire({animation:true,type:'success',title:'Signed in successfully'});case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSigin(){return _ref.apply(this,arguments);};}();var redirectUser=function redirectUser(){if(redirectToPage){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin\"});}};return/*#__PURE__*/React.createElement(Aux,null,redirectUser(),/*#__PURE__*/React.createElement(Breadcrumb,null),/*#__PURE__*/React.createElement(Navigation,null),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-bg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"r\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"i\",{className:\"feather icon-unlock auth-icon\"})),/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\"Admin | Login  \"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",onChange:handleChange(\"email\"),value:email,placeholder:\"Email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"password\",name:\"password\",onChange:handleChange(\"password\"),value:password})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"checkbox checkbox-fill d-inline\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"checkbox-fill-1\",id:\"checkbox-fill-a1\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"checkbox-fill-a1\",className:\"cr\"},\" Save credentials\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary shadow-2 mb-4\",disabled:loading,onClick:!loading?submit:null},loading?'loading':'Login'),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2 text-muted\"},\"Forgot password? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/auth/admin/forget\"},\"Reset\")))))));//}\n};export default SignIn;","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/Auth/admin/SignIn.js"],"names":["React","useState","NavLink","Redirect","Aux","Breadcrumb","Swal","authenticate","login","Navigation","SignIn","loading","password","email","redirectToPage","values","setValues","handleChange","name","event","error","target","value","submit","preventDefault","fire","handleSigin","user","data","console","log","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","redirectUser"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\n\r\nimport './../../../assets/scss/style.scss';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Breadcrumb from \"../../../App/layout/AdminLayout/Breadcrumb\";\r\nimport Swal from 'sweetalert2'\r\n\r\nimport {authenticate, login} from './api';\r\nimport Navigation from '../welcome/components/Navigation';\r\n\r\nconst SignIn = () => {\r\n        const [values, setValues] = useState({\r\n            loading:false,\r\n            password:\"\",\r\n            email:\"\",\r\n            redirectToPage:false\r\n        })\r\n        const {loading, password, email, redirectToPage} = values;\r\n\r\n        const handleChange = name => event => {\r\n            setValues({ ...values, error: false, [name]: event.target.value });\r\n        };\r\n\r\n        const submit = event =>{\r\n            event.preventDefault();\r\n            setValues({...values, loading:true})\r\n            if(email===\"\"){\r\n                Swal.fire('Oops...', 'A valid email address required!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            if(password===\"\"){\r\n                Swal.fire('Oops...', 'password is required!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            handleSigin(); \r\n        }\r\n        const handleSigin = async () =>{\r\n            let user = {email, password}\r\n            const data  = await login(user);\r\n            console.log({data})\r\n            if(!data){\r\n                Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            if(data.error){\r\n                Swal.fire('Oops...', data.error, 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n\r\n            authenticate(data, ()=>{\r\n                setValues({...values, loading:false, redirectToPage:true})\r\n            })\r\n\r\n            let Toast = Swal.mixin({\r\n                toast: true,\r\n                timerProgressBar: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n\r\n            Toast.fire({\r\n                animation: true,\r\n                type: 'success',\r\n                title: 'Signed in successfully'\r\n            })\r\n        }\r\n\r\n        const redirectUser = () => {\r\n            if (redirectToPage){\r\n                return <Redirect to=\"/admin\" />\r\n            }\r\n        };\r\n\r\n        return(\r\n            <Aux>\r\n                {redirectUser()}\r\n                <Breadcrumb/>\r\n                <Navigation />\r\n                <div className=\"auth-wrapper\">\r\n                    <div className=\"auth-content\">\r\n                        <div className=\"auth-bg\">\r\n                            <span className=\"r\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r\"/>\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                <div className=\"mb-4\">\r\n                                    <i className=\"feather icon-unlock auth-icon\"/>\r\n                                </div>\r\n                                <h3 className=\"mb-4\">Admin | Login  </h3>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"email\" className=\"form-control\" name=\"email\" onChange={handleChange(\"email\")} value={email} placeholder=\"Email\"/>\r\n                                </div>\r\n                                <div className=\"input-group mb-4\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"password\" name=\"password\"  onChange={handleChange(\"password\")} value={password} />\r\n                                </div>\r\n                                <div className=\"form-group text-left\">\r\n                                    <div className=\"checkbox checkbox-fill d-inline\">\r\n                                        <input type=\"checkbox\" name=\"checkbox-fill-1\" id=\"checkbox-fill-a1\" />\r\n                                            <label htmlFor=\"checkbox-fill-a1\" className=\"cr\"> Save credentials</label>\r\n                                    </div>\r\n                                </div>\r\n                                <button className=\"btn btn-primary shadow-2 mb-4\" disabled={loading} onClick={!loading ? submit : null}>\r\n                                    {loading ? 'loading':'Login'}\r\n                                </button>\r\n                                {\r\n                                    //loading ? <button className=\"btn btn-primary shadow-2 mb-4\" disabled={loading}>loading</button> : <button className=\"btn btn-primary shadow-2 mb-4\" onClick={submit}>Login</button>\r\n                                }\r\n                                \r\n                                <p className=\"mb-2 text-muted\">Forgot password? <NavLink to=\"/auth/admin/forget\">Reset</NavLink></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Aux>\r\n        );\r\n    //}\r\n}\r\n\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}