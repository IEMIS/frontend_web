{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\admin\\\\admin\\\\Read.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Row, Col, Card, Button } from \"react-bootstrap\";\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from \"sweetalert2\";\nimport { reads } from \"./api\";\nimport { Link } from \"react-router-dom\";\nimport moment from 'moment';\nimport Datatable from 'react-bs-datatable';\nimport { isAuthenticated } from \"../../Auth/admin/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Read() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      datas = _React$useState2[0],\n      setDatas = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      error = _React$useState6[0],\n      setError = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      reload = _React$useState8[0],\n      setReload = _React$useState8[1];\n\n  var isError = function isError() {\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(Aux, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                  as: \"h3\",\n                  children: \"Error in Loading Data.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 25,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 24,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: [\"Admin data Failed to Load, you can refresh\", \" \", /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        onClick: handleReload,\n                        children: \"Reload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 32,\n                        columnNumber: 25\n                      }, _this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 30,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 29,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 28,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, _this);\n    }\n  };\n\n  var isLoading = function isLoading() {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Aux, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                  as: \"h5\",\n                  children: \"Wait loading data ...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Fetching the list of Admin's \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 60,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this);\n    }\n  };\n\n  var handleReload = function handleReload(event) {\n    event.preventDefault();\n    setError(false);\n    setLoading(true);\n    setReload(!reload);\n  };\n\n  var boot = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var Auth, data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              Auth = isAuthenticated();\n              _context.next = 4;\n              return reads(Auth.token);\n\n            case 4:\n              data = _context.sent;\n\n              if (data) {\n                _context.next = 10;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", \"internet server error, Please, check your network connection\", \"error\");\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 10:\n              if (!data.error) {\n                _context.next = 15;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", data.error, \"error\");\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 15:\n              if (data.message) {\n                setLoading(false);\n                setError(false);\n                setDatas(data.data);\n                Swal.fire(\"Successful\", data.message, \"success\");\n                Toast = Swal.mixin({\n                  toast: true,\n                  timerProgressBar: true,\n                  position: \"top-end\",\n                  showConfirmButton: false,\n                  timer: 3000\n                });\n                Toast.fire({\n                  showClass: true,\n                  type: \"success\",\n                  title: data.message\n                });\n              }\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function boot() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var ViewData = function ViewData() {\n    return /*#__PURE__*/_jsxDEV(Aux, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Manage Admin data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, _this), datas.length > 0 ? /*#__PURE__*/_jsxDEV(Datatable, {\n        tableHeaders: header,\n        tableBody: body(datas) //onRowClick={details}\n        //initialSort={{ prop: 'date', isAscending: true }}\n        ,\n        rowsPerPage: 10,\n        rowsPerPageOption: [5, 10, 15, 20, 30, 40, 50, 100]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Data \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var header = [{\n    title: 'SN',\n    prop: 'id',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Full Names',\n    prop: 'names',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Email',\n    prop: 'email',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Phone Number',\n    prop: 'phone',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Created On ',\n    prop: 'date',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Admin Level',\n    prop: 'level',\n    filterable: true,\n    sortable: true\n  }, {\n    title: 'Details',\n    prop: 'edit',\n    cell: function cell(row) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/users/edit/\".concat(row.edit),\n        children: \" Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 51\n      }, _this);\n    }\n  }, {\n    title: 'Details',\n    prop: 'delete',\n    cell: function cell(row) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/users/delete/\".concat(row.delete),\n        children: \" Delete \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 53\n      }, _this);\n    }\n  }, {\n    title: 'Details',\n    prop: 'detail',\n    cell: function cell(row) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/users/read/\".concat(row.detail),\n        children: \" Detail \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 53\n      }, _this);\n    }\n  }];\n\n  var body = function body(dat) {\n    return dat.map(function (data, index) {\n      return {\n        id: index + 1,\n        names: \"\".concat(data.firstName, \" \").concat(data.lastName),\n        email: data.email,\n        phone: data.phone,\n        date: moment(data.created_at, \"YYYY-MM-DDTHH:mm:ss.SSSSZ\").format('LLLL'),\n        level: data.level === \"2\" ? \"Moderator\" : \"Admin\",\n        edit: data._id,\n        delete: data._id,\n        detail: data._id\n      };\n    });\n  };\n\n  React.useEffect(function () {\n    boot();\n  }, [reload]);\n  return /*#__PURE__*/_jsxDEV(Aux, {\n    children: error ? isError() : loading ? isLoading() : ViewData()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Read, \"uAM0VyZwuMAsheaM45OD0FkE4FM=\");\n\n_c = Read;\n\nvar _c;\n\n$RefreshReg$(_c, \"Read\");","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/admin/Read.js"],"names":["React","Row","Col","Card","Button","Aux","Swal","reads","Link","moment","Datatable","isAuthenticated","Read","useState","datas","setDatas","loading","setLoading","error","setError","reload","setReload","isError","handleReload","isLoading","event","preventDefault","boot","Auth","token","data","fire","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","showClass","type","title","ViewData","length","header","body","prop","filterable","sortable","cell","row","edit","delete","detail","dat","map","index","id","names","firstName","lastName","email","phone","date","created_at","format","level","_id","useEffect"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Card, Button } from \"react-bootstrap\";\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { reads } from \"./api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from 'moment'; \r\nimport Datatable from 'react-bs-datatable'; \r\nimport { isAuthenticated } from \"../../Auth/admin/api\";\r\n\r\nexport default function Read() {\r\n  const [datas, setDatas] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(false);\r\n  const [reload, setReload] = React.useState(false);\r\n\r\n  const isError = () => {\r\n    if (error) {\r\n      return (\r\n        <Aux>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <Card.Header>\r\n                  <Card.Title as=\"h3\">Error in Loading Data.</Card.Title>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row>\r\n                    <Col>\r\n                      <h1>\r\n                        Admin data Failed to Load, you can refresh{\" \"}\r\n                        <Button variant=\"primary\" onClick={handleReload}>\r\n                          Reload\r\n                        </Button>{\" \"}\r\n                      </h1>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Aux>\r\n      );\r\n    }\r\n  };\r\n\r\n  const isLoading = () => {\r\n    if (loading) {\r\n      return (\r\n        <Aux>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <Card.Header>\r\n                  <Card.Title as=\"h5\">Wait loading data ...</Card.Title>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row>\r\n                    <Col>\r\n                      <h1>Fetching the list of Admin's </h1>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Aux>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleReload = (event) => {\r\n    event.preventDefault();\r\n    setError(false);\r\n    setLoading(true);\r\n    setReload(!reload);\r\n  };\r\n\r\n \r\n\r\n  const boot = async () => {\r\n    setLoading(true);\r\n    const Auth = isAuthenticated();\r\n    const data = await reads(Auth.token);\r\n    if (!data) {\r\n      Swal.fire(\r\n        \"Oops...\",\r\n        \"internet server error, Please, check your network connection\",\r\n        \"error\"\r\n      );\r\n      setLoading(false);\r\n      setError(true);\r\n      return;\r\n    }\r\n    if (data.error) {\r\n      Swal.fire(\"Oops...\", data.error, \"error\");\r\n      setLoading(false);\r\n      setError(true);\r\n      return;\r\n    }\r\n    if (data.message) {\r\n      setLoading(false);\r\n      setError(false);\r\n      setDatas(data.data);\r\n      Swal.fire(\"Successful\", data.message, \"success\");\r\n\r\n      let Toast = Swal.mixin({\r\n        toast: true,\r\n        timerProgressBar: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n      });\r\n\r\n      Toast.fire({\r\n        showClass: true,\r\n        type: \"success\",\r\n        title: data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  const ViewData = () =>{\r\n    return(\r\n      <Aux>\r\n        <h1>Manage Admin data</h1>\r\n        <hr />\r\n        {\r\n          datas.length > 0 ?  \r\n          <Datatable \r\n            tableHeaders={header} \r\n            tableBody={body(datas)} \r\n            //onRowClick={details}\r\n            //initialSort={{ prop: 'date', isAscending: true }}\r\n            rowsPerPage={10}\r\n            rowsPerPageOption={[5, 10, 15, 20, 30, 40, 50, 100]}\r\n          />\r\n          : <h1>No Data </h1>\r\n        }\r\n      </Aux>\r\n    )\r\n  }\r\n  const header = [\r\n    { title: 'SN', prop: 'id', filterable: true, sortable: true, },\r\n    { title: 'Full Names', prop: 'names', filterable: true, sortable: true, },\r\n    { title: 'Email', prop: 'email', filterable: true, sortable: true, },\r\n    { title: 'Phone Number', prop: 'phone', filterable: true, sortable: true },\r\n    { title: 'Created On ', prop: 'date', filterable: true, sortable: true },\r\n    { title: 'Admin Level', prop: 'level', filterable: true, sortable: true },\r\n    { title: 'Details', prop: 'edit', cell: row =><Link to={`/admin/users/edit/${row.edit}`} > Edit</Link>},\r\n    { title: 'Details', prop: 'delete', cell: row =><Link to={`/admin/users/delete/${row.delete}`} > Delete </Link>},\r\n    { title: 'Details', prop: 'detail', cell: row =><Link to={`/admin/users/read/${row.detail}`} > Detail </Link>},\r\n  ];\r\n\r\n  const body = (dat) => {\r\n    return dat.map((data, index)=>{\r\n      return{\r\n        id:index +1,\r\n        names:`${data.firstName} ${data.lastName}`,\r\n        email:data.email,\r\n        phone:data.phone,\r\n        date :moment(data.created_at,\"YYYY-MM-DDTHH:mm:ss.SSSSZ\").format('LLLL'),\r\n        level:data.level ===\"2\" ? \"Moderator\" :\"Admin\",\r\n        edit:data._id,\r\n        delete:data._id,\r\n        detail:data._id,\r\n      }\r\n    })\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    boot();\r\n  }, [reload]);\r\n\r\n  return (\r\n    <Aux>\r\n      {error ? isError() : loading ?  isLoading() :ViewData()}\r\n    </Aux>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}