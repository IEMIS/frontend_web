{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\district\\\\district\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Row, Col, Card, Form, Button } from 'react-bootstrap';\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from 'sweetalert2';\nimport { Redirect } from 'react-router-dom';\nimport { create } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Create() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState({\n    code: \"\",\n    names: \"\",\n    phone: \"\",\n    address: \"\",\n    email: \"\",\n    status: true,\n    password: \"\",\n    password2: \"\",\n    loading: false,\n    redirectToPage: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setValues = _React$useState2[1];\n\n  var code = values.code,\n      names = values.names,\n      phone = values.phone,\n      email = values.email,\n      password = values.password,\n      password2 = values.password2,\n      address = values.address,\n      status = values.status,\n      loading = values.loading,\n      redirectToPage = values.redirectToPage;\n\n  var handleChange = function handleChange(name) {\n    return function (event) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, event.target.value)));\n    };\n  };\n\n  var submit = function submit(event) {\n    event.preventDefault();\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n\n    if (code === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'District code is required', 'error');\n    }\n\n    if (names === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'District name is required', 'error');\n    }\n\n    if (phone === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'District Phone number is required', 'error');\n    }\n\n    if (address === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'District address is required', 'error');\n    }\n\n    if (email === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'District email is required', 'error');\n    }\n\n    if (password === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'Password can not be an empty value', 'error');\n    }\n\n    if (password !== password2) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire('Oops...', 'Password must match each other', 'error');\n    }\n\n    handleCreate();\n  };\n\n  var handleCreate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var user, data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = {\n                code: code,\n                names: names,\n                phone: phone,\n                email: email,\n                password: password,\n                password2: password2,\n                address: address,\n                status: status\n              };\n              _context.next = 3;\n              return create(user);\n\n            case 3:\n              data = _context.sent;\n              console.log(data);\n\n              if (data) {\n                _context.next = 8;\n                break;\n              }\n\n              Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error');\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 8:\n              if (!data.error) {\n                _context.next = 11;\n                break;\n              }\n\n              Swal.fire('Oops...', data.error, 'error');\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 11:\n              if (!data.message) {\n                _context.next = 16;\n                break;\n              }\n\n              Swal.fire('Saved...', data.message, 'success');\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false,\n                redirectToPage: true\n              }));\n              Toast = Swal.mixin({\n                toast: true,\n                timerProgressBar: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000\n              });\n              return _context.abrupt(\"return\", Toast.fire({\n                animation: true,\n                type: 'success',\n                title: 'Request is successful'\n              }));\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleCreate() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var redirectUser = function redirectUser() {\n    if (redirectToPage) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/admin/districts/create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }, _this);\n    }\n  };\n\n  React.useEffect(function () {\n    var getDistrictCode = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var dcode;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                //call the endpoint for code \n                dcode = 'DS001';\n                setValues(function (v) {\n                  return _objectSpread(_objectSpread({}, v), {}, {\n                    code: dcode\n                  });\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getDistrictCode() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getDistrictCode();\n    /*\r\n    return () => {\r\n        //cleanup\r\n    }\r\n    */\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Aux, {\n    children: [redirectUser(), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Card.Title, {\n              as: \"h3\",\n              children: \"Add New District\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"District Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"district code\",\n                      onChange: handleChange(\"code\"),\n                      value: code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"District Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"district name\",\n                      onChange: handleChange(\"names\"),\n                      value: names\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Phone \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"district phone\",\n                      onChange: handleChange(\"phone\"),\n                      value: phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"password\",\n                      placeholder: \"Password\",\n                      onChange: handleChange(\"password\"),\n                      value: password\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 45\n                  }, this), loading ? \"loading ...\" : /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    onClick: submit,\n                    children: \"Create ..\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 75\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Address \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    placeholder: \"building/house name, city\",\n                    onChange: handleChange(\"address\"),\n                    value: address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Officer-in- charge\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    placeholder: \"Education District ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"exampleForm.ControlInput1\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"email \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"email\",\n                    placeholder: \"email\",\n                    onChange: handleChange(\"email\"),\n                    value: email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicPassword\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Password Confirmation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"password\",\n                    placeholder: \"Password Confirmation\",\n                    onChange: handleChange(\"password2\"),\n                    value: password2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Create, \"u6XY3b4QJpl3Ty0Yx9PHpV0rRKQ=\");\n\n_c = Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/district/district/Create.js"],"names":["React","Row","Col","Card","Form","Button","Aux","Swal","Redirect","create","Create","useState","code","names","phone","address","email","status","password","password2","loading","redirectToPage","values","setValues","handleChange","name","event","target","value","submit","preventDefault","fire","handleCreate","user","data","console","log","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","redirectUser","useEffect","getDistrictCode","dcode","v"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Row, Col, Card, Form, Button} from 'react-bootstrap';\r\n\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport {Redirect} from 'react-router-dom'\r\nimport { create } from './api';\r\n\r\n\r\nexport default function Create() {\r\n\r\n    const [values, setValues] = React.useState({\r\n        code:\"\",\r\n        names:\"\",\r\n        phone:\"\",\r\n        address:\"\",\r\n        email:\"\",\r\n        status:true,\r\n        password:\"\",\r\n        password2:\"\",\r\n        loading:false,\r\n        redirectToPage:false,\r\n        \r\n    })\r\n    const {code, names, phone, email, password, password2, address, status, loading, redirectToPage} = values\r\n\r\n    const handleChange = name=>event=>{\r\n        setValues({...values, [name]:event.target.value})\r\n    }\r\n\r\n    const submit = event =>{\r\n        event.preventDefault();\r\n        setValues({...values, loading:true})\r\n        if(code===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District code is required', 'error');\r\n        }\r\n        if(names===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District name is required', 'error');\r\n        }\r\n        if(phone===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District Phone number is required', 'error');\r\n        }\r\n        if(address===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District address is required', 'error');\r\n        }\r\n        if(email===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District email is required', 'error');\r\n        }\r\n        if(password===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Password can not be an empty value', 'error');\r\n        }\r\n\r\n        if(password !== password2) {\r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Password must match each other', 'error');\r\n        }\r\n\r\n        handleCreate();\r\n    }\r\n\r\n    const handleCreate =async ()=>{\r\n        const user = {code, names, phone, email, password, password2, address, status}\r\n        const data = await create(user);\r\n        console.log(data)\r\n        if(!data){\r\n            Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n        if(data.error){\r\n            Swal.fire('Oops...', data.error, 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n        if(data.message){\r\n            Swal.fire('Saved...', data.message, 'success')\r\n            setValues({...values, loading:false, redirectToPage:true});\r\n\r\n            let Toast = Swal.mixin({\r\n            toast: true,\r\n            timerProgressBar: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000\r\n           });\r\n            return Toast.fire({\r\n                animation: true,\r\n                type: 'success',\r\n                title: 'Request is successful'\r\n            })\r\n        }\r\n    }\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/districts/create\" />\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const getDistrictCode = async () =>{\r\n            //call the endpoint for code \r\n            let dcode = 'DS001'\r\n            setValues(v=>({...v, code:dcode}))\r\n        }\r\n        getDistrictCode();\r\n        /*\r\n        return () => {\r\n            //cleanup\r\n        }\r\n        */\r\n    }, [])\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            <Row>\r\n                    <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Add New District</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col md={6}>\r\n                                        <Form>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>District Code</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"district code\" onChange={handleChange(\"code\")} value={code} />\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>District Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"district name\" onChange={handleChange(\"names\")} value={names} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Phone </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"district phone\" onChange={handleChange(\"phone\")} value={phone} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicPassword\">\r\n                                                <Form.Label>Password</Form.Label>\r\n                                                <Form.Control type=\"password\" placeholder=\"Password\" onChange={handleChange(\"password\")} value={password} />\r\n                                            </Form.Group>\r\n                                            {\r\n                                                loading ? \"loading ...\" : <Button variant=\"primary\" onClick={submit}  >Create ..</Button>\r\n                                            }\r\n                                        </Form>\r\n                                    </Col>\r\n                                    <Col md={6}>\r\n                                    <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Address </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"building/house name, city\" onChange={handleChange(\"address\")} value={address} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Officer-in- charge</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"Education District ID\" />\r\n                                            </Form.Group>\r\n                                        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                                            <Form.Label>email </Form.Label>\r\n                                            <Form.Control type=\"email\" placeholder=\"email\" onChange={handleChange(\"email\")} value={email}/>\r\n                                        </Form.Group>\r\n                                        <Form.Group controlId=\"formBasicPassword\">\r\n                                            <Form.Label>Password Confirmation</Form.Label>\r\n                                            <Form.Control type=\"password\" placeholder=\"Password Confirmation\" onChange={handleChange(\"password2\")} value={password2} />\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n            </Row>\r\n        </Aux>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}