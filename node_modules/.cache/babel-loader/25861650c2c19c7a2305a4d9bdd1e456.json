{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n//let  BASE_URL = \"\",\nvar BASE_URL = \"https://iemis.herokuapp.com/api/v1\";\nexport var signin = function signin(user) {\n  return fetch(\"\".concat(BASE_URL, \"/admin/signin\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};\nexport var login = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n    var response, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch(\"\".concat(BASE_URL, \"/admin/signin\"), {\n              method: 'POST',\n              body: JSON.stringify(user),\n              headers: {\n                'Content-Type': 'application/json',\n                accept: 'application/json'\n              }\n            }).catch(function (err) {\n              console.log(err);\n            });\n\n          case 3:\n            response = _context.sent;\n            data = response.json();\n            return _context.abrupt(\"return\", data);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function login(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var authenticate = function authenticate(data, next) {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('admin-Auth', JSON.stringify(data));\n    next();\n  }\n};\nexport var signout = function signout(next) {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('admin-Auth');\n    next();\n    /*\r\n    return fetch(`${BASE_URL}/signout`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n            console.log('signout', response);\r\n    })\r\n    .catch(err => console.log(err));\r\n    */\n  }\n};\nexport var isAuthenticated = function isAuthenticated() {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n\n  if (localStorage.getItem('admin-Auth')) {\n    return JSON.parse(localStorage.getItem('admin-Auth'));\n  } else {\n    return false;\n  }\n};\nexport var forget = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user) {\n    var response, data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetch(\"\".concat(BASE_URL, \"/admin/forgetPassword\"), {\n              method: 'POST',\n              body: JSON.stringify(user),\n              headers: {\n                'Content-Type': 'application/json; charset=UTF-8',\n                accept: 'application/json'\n              }\n            }).catch(function (err) {\n              return console.log(err);\n            });\n\n          case 3:\n            response = _context2.sent;\n            data = response.json();\n            return _context2.abrupt(\"return\", data);\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 8]]);\n  }));\n\n  return function forget(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var reset = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user) {\n    var response, data;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return fetch(\"\".concat(BASE_URL, \"/admin/resetPassword\"), {\n              method: 'POST',\n              body: JSON.stringify(user),\n              headers: {\n                'Content-Type': 'application/json; charset=UTF-8',\n                accept: 'application/json'\n              }\n            }).catch(function (err) {\n              return console.log(err);\n            });\n\n          case 3:\n            response = _context3.sent;\n            data = response.json();\n            return _context3.abrupt(\"return\", data);\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n\n  return function reset(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/Auth/admin/api/index.js"],"names":["BASE_URL","signin","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","login","accept","data","authenticate","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forget","reset"],"mappings":"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","sourcesContent":["//let  BASE_URL = \"\",\r\n\r\nconst BASE_URL = \"https://iemis.herokuapp.com/api/v1\"\r\n\r\nexport const signin = user => {\r\n    return fetch(`${BASE_URL}/admin/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n};\r\n\r\n\r\nexport const login = async (user)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/signin`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('admin-Auth', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('admin-Auth');\r\n        next();\r\n        \r\n        /*\r\n        return fetch(`${BASE_URL}/signout`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n                console.log('signout', response);\r\n        })\r\n        .catch(err => console.log(err));\r\n        */\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('admin-Auth')) {\r\n        return JSON.parse(localStorage.getItem('admin-Auth'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\nexport const forget = async (user) =>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/forgetPassword`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json; charset=UTF-8',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => console.log(err));\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n\r\n}\r\n\r\nexport const reset = async (user) =>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/resetPassword`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json; charset=UTF-8',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => console.log(err));\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}"]},"metadata":{},"sourceType":"module"}