{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{NavLink,Redirect}from'react-router-dom';import'./../../../assets/scss/style.scss';import Aux from\"../../../hoc/_Aux\";import Breadcrumb from\"../../../App/layout/AdminLayout/Breadcrumb\";import Swal from'sweetalert2';import{reset}from'./api';import Navigation from'../welcome/components/Navigation';//class SignIn extends React.Component {\nvar Reset=function Reset(){//render () {\nvar _useState=useState({loading:false,resetToken:\"\",password:\"\",passwordConfirmation:\"\",redirectToPage:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var loading=values.loading,password=values.password,passwordConfirmation=values.passwordConfirmation,resetToken=values.resetToken,redirectToPage=values.redirectToPage;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},name,event.target.value)));};};var submit=function submit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{loading:true}));if(resetToken===\"\"){Swal.fire('Oops...','reset token is required!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}if(password===\"\"){Swal.fire('Oops...','password is required!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}if(password!==passwordConfirmation){Swal.fire('Oops...','password must match each other!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}handleReset();};var handleReset=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,data,Toast;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user={resetToken:resetToken,password:password,passwordConfirmation:passwordConfirmation};_context.next=3;return reset(user);case 3:data=_context.sent;if(data){_context.next=7;break;}Swal.fire('Oops...','Internal server error, Please, check your internet connection','error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 7:console.log(data);if(!data.error){_context.next=11;break;}Swal.fire('Oops...',data.error,'error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 11:Toast=Swal.mixin({toast:true,timerProgressBar:true,position:'top-end',showConfirmButton:false,timer:3000});Swal.fire(' :)',data.message,'success');_context.next=15;return Toast.fire({animation:true,type:'success',title:'password successfully reset'});case 15:setValues(_objectSpread(_objectSpread({},values),{},{loading:false,redirectToPage:true}));console.log({data:data});case 17:case\"end\":return _context.stop();}}},_callee);}));return function handleReset(){return _ref.apply(this,arguments);};}();var redirectUser=function redirectUser(){if(redirectToPage){return/*#__PURE__*/React.createElement(Redirect,{to:\"/auth/district/signin\"});}};return/*#__PURE__*/React.createElement(Aux,null,redirectUser(),/*#__PURE__*/React.createElement(Breadcrumb,null),/*#__PURE__*/React.createElement(Navigation,null),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-bg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"r\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"i\",{className:\"feather icon-unlock auth-icon\"})),/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\"district | Reset Password \"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"input\",className:\"form-control\",onChange:handleChange(\"resetToken\"),value:resetToken,placeholder:\"Reset Token\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",onChange:handleChange(\"password\"),value:password,placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",onChange:handleChange(\"passwordConfirmation\"),value:passwordConfirmation,placeholder:\"password confirmation\"})),loading?\"Loading \":/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary shadow-2 mb-4\",onClick:submit},\"Reset Password\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2 text-muted\"},\"I know password? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/auth/district/signin\"},\"Login\")))))));//}\n};export default Reset;","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/Auth/district/Reset.js"],"names":["React","useState","NavLink","Redirect","Aux","Breadcrumb","Swal","reset","Navigation","Reset","loading","resetToken","password","passwordConfirmation","redirectToPage","values","setValues","handleChange","name","event","error","target","value","submit","preventDefault","fire","handleReset","user","data","console","log","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","message","animation","type","title","redirectUser"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\n\r\nimport './../../../assets/scss/style.scss';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Breadcrumb from \"../../../App/layout/AdminLayout/Breadcrumb\";\r\nimport Swal from 'sweetalert2'\r\n\r\nimport {reset} from './api';\r\nimport Navigation from '../welcome/components/Navigation';\r\n\r\n//class SignIn extends React.Component {\r\n\r\nconst Reset = () => {\r\n  \r\n\r\n    //render () {\r\n        const [values, setValues] = useState({\r\n            loading:false,\r\n            resetToken:\"\",\r\n            password:\"\",\r\n            passwordConfirmation:\"\",\r\n            redirectToPage:false\r\n        })\r\n        const {loading, password, passwordConfirmation, resetToken, redirectToPage} = values;\r\n\r\n        const handleChange = name => event => {\r\n            setValues({ ...values, error: false, [name]: event.target.value });\r\n        };\r\n\r\n        const submit = event =>{\r\n            event.preventDefault();\r\n            setValues({...values, loading:true})\r\n            if(resetToken===\"\"){\r\n                Swal.fire('Oops...', 'reset token is required!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            if(password===\"\"){\r\n                Swal.fire('Oops...', 'password is required!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n\r\n            if(password !== passwordConfirmation){\r\n                Swal.fire('Oops...', 'password must match each other!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n\r\n            handleReset(); \r\n        }\r\n        const handleReset = async () =>{\r\n            let user = {resetToken, password, passwordConfirmation}\r\n            const data  = await reset(user);\r\n            if(!data){\r\n                Swal.fire('Oops...', 'Internal server error, Please, check your internet connection', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            console.log(data)\r\n            if(data.error){\r\n                Swal.fire('Oops...', data.error, 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n\r\n            let Toast = Swal.mixin({\r\n                toast: true,\r\n                timerProgressBar: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n\r\n            Swal.fire(' :)', data.message, 'success')\r\n\r\n            await Toast.fire({\r\n                animation: true,\r\n                type: 'success',\r\n                title: 'password successfully reset'\r\n            })\r\n            setValues({...values, loading:false, redirectToPage:true})\r\n       \r\n            console.log({data})\r\n        }\r\n\r\n        const redirectUser = () => {\r\n            if (redirectToPage){\r\n                return <Redirect to=\"/auth/district/signin\" />\r\n            }\r\n        };\r\n        return(\r\n            <Aux>\r\n                {redirectUser()}\r\n                <Breadcrumb />\r\n                <Navigation />\r\n                <div className=\"auth-wrapper\">\r\n                    <div className=\"auth-content\">\r\n                        <div className=\"auth-bg\">\r\n                            <span className=\"r\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r\"/>\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                <div className=\"mb-4\">\r\n                                    <i className=\"feather icon-unlock auth-icon\"/>\r\n                                </div>\r\n                                <h3 className=\"mb-4\">district | Reset Password </h3>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"input\" className=\"form-control\"  onChange={handleChange(\"resetToken\")} value={resetToken} placeholder=\"Reset Token\"/>\r\n                                </div>\r\n                            \r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"password\" className=\"form-control\"  onChange={handleChange(\"password\")} value={password} placeholder=\"Password\"/>\r\n                                </div>\r\n                                <div className=\"input-group mb-4\">\r\n                                    <input type=\"password\" className=\"form-control\" onChange={handleChange(\"passwordConfirmation\")} value={passwordConfirmation} placeholder=\"password confirmation\"/>\r\n                                </div>\r\n                    \r\n                                {\r\n                                    loading ? \"Loading \" : <button className=\"btn btn-primary shadow-2 mb-4\" onClick={submit}>Reset Password</button>\r\n                                }\r\n                                \r\n                                <p className=\"mb-2 text-muted\">I know password? <NavLink to=\"/auth/district/signin\">Login</NavLink></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Aux>\r\n        );\r\n    //}\r\n}\r\n\r\nexport default Reset;"]},"metadata":{},"sourceType":"module"}