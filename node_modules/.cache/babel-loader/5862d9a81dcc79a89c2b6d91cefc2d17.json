{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{NavLink,Redirect}from'react-router-dom';import'./../../../assets/scss/style.scss';import Aux from\"../../../hoc/_Aux\";import Breadcrumb from\"../../../App/layout/AdminLayout/Breadcrumb\";import Swal from'sweetalert2';import{forget}from'./api';import Navigation from'../welcome/components/Navigation';//class SignIn extends React.Component {\nvar Forget=function Forget(){//render () {\nvar _useState=useState({loading:false,email:\"\",redirectToPage:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var loading=values.loading,email=values.email,redirectToPage=values.redirectToPage;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},name,event.target.value)));};};var submit=function submit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{loading:true}));if(email===\"\"){Swal.fire('Oops...','A valid email address required!','error');return setValues(_objectSpread(_objectSpread({},values),{},{loading:false}));}handleForget();};var handleForget=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,data,Toast;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user={email:email};_context.next=3;return forget(user);case 3:data=_context.sent;if(data){_context.next=7;break;}Swal.fire('Oops...','Internal server error, Please, check your internet connection','error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 7:console.log(data);if(!data.error){_context.next=11;break;}Swal.fire('Oops...',data.error,'error');return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{loading:false})));case 11:Toast=Swal.mixin({toast:true,position:'top-end',showConfirmButton:false,timer:3000});Toast.fire({type:'success',title:'request successful'});Swal.fire(' :)',data.message,'success');setValues(_objectSpread(_objectSpread({},values),{},{loading:false,redirectToPage:true}));case 15:case\"end\":return _context.stop();}}},_callee);}));return function handleForget(){return _ref.apply(this,arguments);};}();var redirectUser=function redirectUser(){if(redirectToPage){return/*#__PURE__*/React.createElement(Redirect,{to:\"/auth/school/reset\"});}};return/*#__PURE__*/React.createElement(Aux,null,redirectUser(),/*#__PURE__*/React.createElement(Breadcrumb,null),/*#__PURE__*/React.createElement(Navigation,null),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-bg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"r\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r s\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"r\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"i\",{className:\"feather icon-unlock auth-icon\"})),/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\"Parent | Forget Password  \"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",onChange:handleChange(\"email\"),value:email,placeholder:\"Email\"})),loading?\"Loading \":/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary shadow-2 mb-4\",onClick:submit},\"Request !\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2 text-muted\"},\"I know password? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/auth/school/signin\"},\"Login\")))))));//}\n};export default Forget;","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/Auth/parent/Forget.js"],"names":["React","useState","NavLink","Redirect","Aux","Breadcrumb","Swal","forget","Navigation","Forget","loading","email","redirectToPage","values","setValues","handleChange","name","event","error","target","value","submit","preventDefault","fire","handleForget","user","data","console","log","Toast","mixin","toast","position","showConfirmButton","timer","type","title","message","redirectUser"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\n\r\nimport './../../../assets/scss/style.scss';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Breadcrumb from \"../../../App/layout/AdminLayout/Breadcrumb\";\r\nimport Swal from 'sweetalert2'\r\n\r\nimport {forget} from './api';\r\nimport Navigation from '../welcome/components/Navigation';\r\n\r\n//class SignIn extends React.Component {\r\n\r\nconst Forget = () => {\r\n  \r\n\r\n    //render () {\r\n        const [values, setValues] = useState({\r\n            loading:false,\r\n            email:\"\",\r\n            redirectToPage:false\r\n        })\r\n        const {loading, email, redirectToPage} = values;\r\n\r\n        const handleChange = name => event => {\r\n            setValues({ ...values, error: false, [name]: event.target.value });\r\n        };\r\n\r\n        const submit = event =>{\r\n            event.preventDefault();\r\n            setValues({...values, loading:true})\r\n            if(email===\"\"){\r\n                Swal.fire('Oops...', 'A valid email address required!', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n           \r\n            handleForget(); \r\n        }\r\n        const handleForget = async () =>{\r\n            let user = {email}\r\n            const data  = await forget(user);\r\n            if(!data){\r\n                Swal.fire('Oops...', 'Internal server error, Please, check your internet connection', 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            console.log(data)\r\n            if(data.error){\r\n                Swal.fire('Oops...', data.error, 'error')\r\n                return setValues({...values, loading:false})\r\n            }\r\n            let Toast = Swal.mixin({\r\n                toast: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n            Toast.fire({\r\n                type: 'success',\r\n                title: 'request successful'\r\n            })\r\n            Swal.fire(' :)', data.message, 'success')\r\n            setValues({...values, loading:false, redirectToPage:true})\r\n        }\r\n\r\n        const redirectUser = () => {\r\n            if (redirectToPage){\r\n                return <Redirect to=\"/auth/school/reset\" />\r\n            }\r\n        };\r\n        return(\r\n            <Aux>\r\n                {redirectUser()}\r\n                <Breadcrumb/>\r\n                <Navigation />\r\n                <div className=\"auth-wrapper\">\r\n                    <div className=\"auth-content\">\r\n                        <div className=\"auth-bg\">\r\n                            <span className=\"r\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r\"/>\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                <div className=\"mb-4\">\r\n                                    <i className=\"feather icon-unlock auth-icon\"/>\r\n                                </div>\r\n                                <h3 className=\"mb-4\">Parent | Forget Password  </h3>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"email\" className=\"form-control\" name=\"email\" onChange={handleChange(\"email\")} value={email} placeholder=\"Email\"/>\r\n                                </div>\r\n                                {\r\n                                    loading ? \"Loading \" : <button className=\"btn btn-primary shadow-2 mb-4\" onClick={submit}>Request !</button>\r\n                                }\r\n                                <p className=\"mb-2 text-muted\">I know password? <NavLink to=\"/auth/school/signin\">Login</NavLink></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Aux>\r\n        );\r\n    //}\r\n}\r\n\r\nexport default Forget;"]},"metadata":{},"sourceType":"module"}