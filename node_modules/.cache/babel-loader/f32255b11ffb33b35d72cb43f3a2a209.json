{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\admin\\\\admin\\\\Read.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3;\n\nimport React from \"react\";\nimport { Row, Col, Card, Button } from \"react-bootstrap\";\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from \"sweetalert2\";\nimport { reads } from \"./api\";\nimport { Link } from \"react-router-dom\";\nimport SortableTbl from \"react-sort-search-table\";\nimport styled from \"styled-components\";\nimport { isAuthenticated } from \"../../Auth/admin/api\";\nexport default function Read() {\n  var _this = this;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      datas = _React$useState2[0],\n      setDatas = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      error = _React$useState6[0],\n      setError = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      reload = _React$useState8[0],\n      setReload = _React$useState8[1];\n\n  var isError = function isError() {\n    if (error) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h3\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 19\n        }\n      }, \"Error in Loading Data.\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 23\n        }\n      }, \"Admin data Failed to Load, you can refresh\", \" \", /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        onClick: handleReload,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 25\n        }\n      }, \"Reload\"), \" \"))))))));\n    }\n  };\n\n  var isLoading = function isLoading() {\n    if (loading) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h5\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 19\n        }\n      }, \"Wait loading data ...\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 23\n        }\n      }, \"Fetching the list of Admin's \"))))))));\n    }\n  };\n\n  var handleReload = function handleReload(event) {\n    event.preventDefault();\n    setError(false);\n    setLoading(true);\n    setReload(!reload);\n  };\n\n  var columun = [\"firstName\", \"lastName\", \"email\", \"phone\", \"edit\", \"detail\", \"delete\"];\n  var tableHead = [\"First Name\", \"Last name\", \"Email\", \"Phone\", \"Edit\", \"Details\", \"Delete\"];\n  var BtnEdit = styled(Link)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    border-radius: 3px;\\n    background-color: #f0ad4e;\\n    color: #fff;\\n  \"])));\n  var BtnDetail = styled(Link)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    border-radius: 3px;\\n    background-color: #3f4d67;\\n    color: #fff;\\n  \"])));\n  var BtnDelete = styled(Link)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    border-radius: 3px;\\n    background-color: #d43f3a;\\n    color: #fff;\\n  \"])));\n\n  var DetailsComponent = function DetailsComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      variant: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BtnDetail, {\n      to: \"/admin/users/read/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, \" Details \"));\n  };\n\n  var DeleteComponent = function DeleteComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      variant: \"danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BtnDelete, {\n      to: \"/admin/users/delete/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, \"Delete\"));\n  };\n\n  var EditComponent = function EditComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BtnEdit, {\n      to: \"/admin/users/edit/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, \"Edit\"));\n  };\n\n  var ViewData = function ViewData() {\n    if (datas && datas.length > 0) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h5\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 19\n        }\n      }, \"Admin users\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"d-block m-t-5\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, \"manage \", /*#__PURE__*/React.createElement(\"code\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 28\n        }\n      }, \"the \"), \" Admin data here\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SortableTbl, {\n        tblData: datas,\n        tHead: tableHead,\n        customTd: [{\n          custd: DetailsComponent,\n          keyItem: \"detail\"\n        }, {\n          custd: EditComponent,\n          keyItem: \"edit\"\n        }, {\n          custd: DeleteComponent,\n          keyItem: \"delete\"\n        }],\n        dKey: columun,\n        search: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 19\n        }\n      }))))));\n    }\n  };\n\n  var boot = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var Auth, data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              Auth = isAuthenticated();\n              _context.next = 4;\n              return reads(Auth.token);\n\n            case 4:\n              data = _context.sent;\n\n              if (data) {\n                _context.next = 10;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", \"internet server error, Please, check your network connection\", \"error\");\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 10:\n              if (!data.error) {\n                _context.next = 15;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", data.error, \"error\");\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 15:\n              if (data.message) {\n                setLoading(false);\n                setError(false);\n                setDatas(data.data);\n                Swal.fire(\"Successful\", data.message, \"success\");\n                Toast = Swal.mixin({\n                  toast: true,\n                  timerProgressBar: true,\n                  position: \"top-end\",\n                  showConfirmButton: false,\n                  timer: 3000\n                });\n                Toast.fire({\n                  showClass: true,\n                  type: \"success\",\n                  title: data.message\n                });\n              }\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function boot() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  React.useEffect(function () {\n    boot();\n  }, [reload]);\n  return /*#__PURE__*/React.createElement(Aux, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }, isLoading(), isError(), ViewData());\n}","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/admin/Read.js"],"names":["React","Row","Col","Card","Button","Aux","Swal","reads","Link","SortableTbl","styled","isAuthenticated","Read","useState","datas","setDatas","loading","setLoading","error","setError","reload","setReload","isError","handleReload","isLoading","event","preventDefault","columun","tableHead","BtnEdit","BtnDetail","BtnDelete","DetailsComponent","props","rowData","_id","DeleteComponent","EditComponent","ViewData","length","custd","keyItem","boot","Auth","token","data","fire","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","showClass","type","title","useEffect"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Card, Button } from \"react-bootstrap\";\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { reads } from \"./api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SortableTbl from \"react-sort-search-table\";\r\nimport styled from \"styled-components\";\r\nimport { isAuthenticated } from \"../../Auth/admin/api\";\r\n\r\nexport default function Read() {\r\n  const [datas, setDatas] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(false);\r\n  const [reload, setReload] = React.useState(false);\r\n\r\n  const isError = () => {\r\n    if (error) {\r\n      return (\r\n        <Aux>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <Card.Header>\r\n                  <Card.Title as=\"h3\">Error in Loading Data.</Card.Title>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row>\r\n                    <Col>\r\n                      <h1>\r\n                        Admin data Failed to Load, you can refresh{\" \"}\r\n                        <Button variant=\"primary\" onClick={handleReload}>\r\n                          Reload\r\n                        </Button>{\" \"}\r\n                      </h1>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Aux>\r\n      );\r\n    }\r\n  };\r\n\r\n  const isLoading = () => {\r\n    if (loading) {\r\n      return (\r\n        <Aux>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <Card.Header>\r\n                  <Card.Title as=\"h5\">Wait loading data ...</Card.Title>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row>\r\n                    <Col>\r\n                      <h1>Fetching the list of Admin's </h1>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Aux>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleReload = (event) => {\r\n    event.preventDefault();\r\n    setError(false);\r\n    setLoading(true);\r\n    setReload(!reload);\r\n  };\r\n\r\n  let columun = [\r\n    \"firstName\",\r\n    \"lastName\",\r\n    \"email\",\r\n    \"phone\",\r\n    \"edit\",\r\n    \"detail\",\r\n    \"delete\",\r\n  ];\r\n  let tableHead = [\r\n    \"First Name\",\r\n    \"Last name\",\r\n    \"Email\",\r\n    \"Phone\",\r\n    \"Edit\",\r\n    \"Details\",\r\n    \"Delete\",\r\n  ];\r\n  const BtnEdit = styled(Link)`\r\n    padding: 10px 20px;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background-color: #f0ad4e;\r\n    color: #fff;\r\n  `;\r\n  const BtnDetail = styled(Link)`\r\n    padding: 10px 20px;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background-color: #3f4d67;\r\n    color: #fff;\r\n  `;\r\n\r\n  const BtnDelete = styled(Link)`\r\n    padding: 10px 20px;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background-color: #d43f3a;\r\n    color: #fff;\r\n  `;\r\n\r\n  const DetailsComponent = (props) => {\r\n    const { rowData } = props;\r\n    return (\r\n      <td variant=\"primary\">\r\n        <BtnDetail to={`/admin/users/read/${rowData._id}`}> Details </BtnDetail>\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const DeleteComponent = (props) => {\r\n    const { rowData } = props;\r\n    return (\r\n      <td variant=\"danger\">\r\n        <BtnDelete to={`/admin/users/delete/${rowData._id}`}>Delete</BtnDelete>\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const EditComponent = (props) => {\r\n    const { rowData } = props;\r\n    return (\r\n      <td>\r\n        <BtnEdit to={`/admin/users/edit/${rowData._id}`}>Edit</BtnEdit>\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const ViewData = () => {\r\n    if (datas && datas.length > 0) {\r\n      return (\r\n        <Aux>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <Card.Header>\r\n                  <Card.Title as=\"h5\">Admin users</Card.Title>\r\n                  <span className=\"d-block m-t-5\">\r\n                    manage <code>the </code> Admin data here\r\n                  </span>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <SortableTbl\r\n                    tblData={datas}\r\n                    tHead={tableHead}\r\n                    customTd={[\r\n                      { custd: DetailsComponent, keyItem: \"detail\" },\r\n                      { custd: EditComponent, keyItem: \"edit\" },\r\n                      { custd: DeleteComponent, keyItem: \"delete\" },\r\n                    ]}\r\n                    dKey={columun}\r\n                    search={true}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Aux>\r\n      );\r\n    }\r\n  };\r\n\r\n  const boot = async () => {\r\n    setLoading(true);\r\n    const Auth = isAuthenticated();\r\n    const data = await reads(Auth.token);\r\n    if (!data) {\r\n      Swal.fire(\r\n        \"Oops...\",\r\n        \"internet server error, Please, check your network connection\",\r\n        \"error\"\r\n      );\r\n      setLoading(false);\r\n      setError(true);\r\n      return;\r\n    }\r\n    if (data.error) {\r\n      Swal.fire(\"Oops...\", data.error, \"error\");\r\n      setLoading(false);\r\n      setError(true);\r\n      return;\r\n    }\r\n    if (data.message) {\r\n      setLoading(false);\r\n      setError(false);\r\n      setDatas(data.data);\r\n      Swal.fire(\"Successful\", data.message, \"success\");\r\n\r\n      let Toast = Swal.mixin({\r\n        toast: true,\r\n        timerProgressBar: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n      });\r\n\r\n      Toast.fire({\r\n        showClass: true,\r\n        type: \"success\",\r\n        title: data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    boot();\r\n  }, [reload]);\r\n\r\n  return (\r\n    <Aux>\r\n      {isLoading()}\r\n      {isError()}\r\n      {ViewData()}\r\n    </Aux>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}