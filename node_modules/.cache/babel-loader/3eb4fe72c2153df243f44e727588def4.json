{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\admin\\\\teachers\\\\Read.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3;\n\nimport React from 'react';\nimport { Row, Col, Card, Button } from 'react-bootstrap';\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from 'sweetalert2';\nimport { reads } from './api';\nimport { Link } from 'react-router-dom';\nimport SortableTbl from \"react-sort-search-table\";\nimport styled from \"styled-components\";\nexport default function Read() {\n  var _this = this;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      datas = _React$useState2[0],\n      setDatas = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      error = _React$useState6[0],\n      setError = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      reload = _React$useState8[0],\n      setReload = _React$useState8[1];\n\n  var isLoading = function isLoading() {\n    if (loading) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h3\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 33\n        }\n      }, \"Wait loading data ...\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 37\n        }\n      }, \"Teachers list is loading \"))))))));\n    }\n  };\n\n  var isError = function isError() {\n    if (error) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h3\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }\n      }, \"Error in loading Data.\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 41\n        }\n      }, \"Teachers data failed to load, you can refresh \", /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        onClick: handleReload,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 91\n        }\n      }, \"Reload\"), \" \"))))))));\n    }\n  };\n\n  var handleReload = function handleReload(event) {\n    event.preventDefault();\n    setError(false);\n    setLoading(true);\n    setReload(!reload);\n  };\n\n  var columun = [\"teacherCode\", \"school\", \"firstName\", \"lastName\", \"subjectTaught\", // \"serviceStatus\",\n  \"serviceStatus\", \"edit\", \"detail\", \"delete\"];\n  var tableHead = [\"Teacher Code\", \"School Name\", \"First Name\", \"Last Name\", \"Teaching Subject\", \"Staff Status\", \"Edit\", \"Details\", \"Delete\"];\n  var BtnEdit = styled(Link)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n        padding: 10px 20px;\\n        cursor: pointer;\\n        border-radius: 3px;\\n        background-color: #f0ad4e;\\n        color: #fff;\\n    \"])));\n  var BtnDetail = styled(Link)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n        padding: 10px 20px;\\n        cursor: pointer;\\n        border-radius: 3px;\\n        background-color: #3F4D67;\\n        color: #fff;\\n    \"])));\n  var BtnDelete = styled(Link)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n        padding: 10px 20px;\\n        cursor: pointer;\\n        border-radius: 3px;\\n        background-color: #d43f3a;\\n        color: #fff;\\n    \"])));\n\n  var DetailsComponent = function DetailsComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      variant: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BtnDetail, {\n      to: \"/admin/teachers/read/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 36\n      }\n    }, \" Details \"));\n  };\n\n  var DeleteComponent = function DeleteComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      variant: \"danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BtnDelete, {\n      to: \"/admin/teachers/delete/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 34\n      }\n    }, \"Delete\"));\n  };\n\n  var EditComponent = function EditComponent(props) {\n    var rowData = props.rowData;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BtnEdit, {\n      to: \"/admin/teachers/edit/\".concat(rowData._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 18\n      }\n    }, \"Edit\"));\n  };\n\n  var ViewData = function ViewData() {\n    if (datas && datas.length > 0) {\n      return /*#__PURE__*/React.createElement(Aux, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        as: \"h5\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 37\n        }\n      }, \"School List\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"d-block m-t-5\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 37\n        }\n      }, \"manage  \", /*#__PURE__*/React.createElement(\"code\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 77\n        }\n      }, \"the \"), \" Teacher data here\")), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(SortableTbl, {\n        tblData: datas,\n        tHead: tableHead,\n        customTd: [{\n          custd: DetailsComponent,\n          keyItem: \"detail\"\n        }, {\n          custd: EditComponent,\n          keyItem: \"edit\"\n        }, {\n          custd: DeleteComponent,\n          keyItem: \"delete\"\n        }],\n        dKey: columun,\n        search: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 37\n        }\n      }))))));\n    } else {\n      /*\r\n      return (\r\n          <Aux>\r\n              <Row>\r\n                  <Col>\r\n                      <Card>\r\n                          <Card.Header>\r\n                              <Card.Title as=\"h5\">No record</Card.Title>\r\n                          </Card.Header>\r\n                          <Card.Body>\r\n                          </Card.Body>\r\n                      </Card>\r\n                  </Col>\r\n              </Row>\r\n          </Aux>\r\n      )\r\n      */\n    }\n  };\n\n  var boot = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return reads();\n\n            case 3:\n              data = _context.sent;\n\n              if (data) {\n                _context.next = 9;\n                break;\n              }\n\n              Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error');\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 9:\n              if (!data.error) {\n                _context.next = 14;\n                break;\n              }\n\n              Swal.fire('Oops...', data.error, 'error');\n              setLoading(false);\n              setError(true);\n              return _context.abrupt(\"return\");\n\n            case 14:\n              if (!data.message) {\n                _context.next = 21;\n                break;\n              }\n\n              setLoading(false);\n              setError(false);\n              setDatas(data.data);\n              Swal.fire('Successful....', data.message, 'success');\n              Toast = Swal.mixin({\n                toast: true,\n                timerProgressBar: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000\n              });\n              return _context.abrupt(\"return\", Toast.fire({\n                showClass: true,\n                type: 'success',\n                title: data.message\n              }));\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function boot() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  React.useEffect(function () {\n    boot();\n  }, [reload]);\n  return /*#__PURE__*/React.createElement(Aux, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, isLoading(), isError(), ViewData());\n}","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/teachers/Read.js"],"names":["React","Row","Col","Card","Button","Aux","Swal","reads","Link","SortableTbl","styled","Read","useState","datas","setDatas","loading","setLoading","error","setError","reload","setReload","isLoading","isError","handleReload","event","preventDefault","columun","tableHead","BtnEdit","BtnDetail","BtnDelete","DetailsComponent","props","rowData","_id","DeleteComponent","EditComponent","ViewData","length","custd","keyItem","boot","data","fire","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","showClass","type","title","useEffect"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport {Row, Col, Card, Button,} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport { reads} from './api';\r\nimport { Link } from 'react-router-dom';\r\nimport SortableTbl from \"react-sort-search-table\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nexport default function Read() {\r\n    const [datas, setDatas] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(false)\r\n    const [error, setError] = React.useState(false)\r\n    const [reload, setReload] = React.useState(false)\r\n\r\n \r\n    const isLoading = () => {\r\n        if (loading){\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Wait loading data ...</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                    <h1>Teachers list is loading </h1>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n        }\r\n    };\r\n\r\n    const isError = () => {\r\n        if(error){\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Error in loading Data.</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <h1>Teachers data failed to load, you can refresh <Button variant=\"primary\" onClick={handleReload}>Reload</Button> </h1>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n        }\r\n    };\r\n\r\n    const handleReload = event =>{\r\n        event.preventDefault();\r\n        setError(false)\r\n        setLoading(true)\r\n        setReload(!reload) \r\n    }\r\n\r\n    let columun = [\r\n        \"teacherCode\",\r\n        \"school\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"subjectTaught\",\r\n       // \"serviceStatus\",\r\n       \"serviceStatus\",\r\n        \"edit\",\r\n        \"detail\",\r\n        \"delete\",\r\n    ];\r\n\r\n    let tableHead = [\r\n        \"Teacher Code\",\r\n        \"School Name\",\r\n        \"First Name\",\r\n        \"Last Name\",\r\n        \"Teaching Subject\",\r\n        \"Staff Status\",\r\n        \"Edit\",\r\n        \"Details\",\r\n        \"Delete\",\r\n    ];\r\n\r\n    const BtnEdit = styled(Link)`\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n        border-radius: 3px;\r\n        background-color: #f0ad4e;\r\n        color: #fff;\r\n    `;\r\n    const BtnDetail = styled(Link)`\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n        border-radius: 3px;\r\n        background-color: #3F4D67;\r\n        color: #fff;\r\n    `;\r\n\r\n    const BtnDelete = styled(Link)`\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n        border-radius: 3px;\r\n        background-color: #d43f3a;\r\n        color: #fff;\r\n    `;\r\n\r\n    const DetailsComponent = (props) => {\r\n        const { rowData} = props;\r\n        return (\r\n            <td  variant=\"primary\"><BtnDetail to={`/admin/teachers/read/${rowData._id}`}> Details </BtnDetail></td>\r\n        );\r\n    };\r\n\r\n    const DeleteComponent = (props) => {\r\n        const { rowData} = props;\r\n        return (\r\n            <td variant=\"danger\"><BtnDelete to={`/admin/teachers/delete/${rowData._id}`}>Delete</BtnDelete></td>\r\n        );\r\n    };\r\n\r\n    const EditComponent = (props) => {\r\n        const { rowData} = props;\r\n        return (\r\n            <td ><BtnEdit to={`/admin/teachers/edit/${rowData._id}`}>Edit</BtnEdit></td>\r\n        );\r\n    };\r\n\r\n    const ViewData = () =>{\r\n        if(datas && datas.length > 0){\r\n            return(\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                            <Card>\r\n                                <Card.Header>\r\n                                    <Card.Title as=\"h5\">School List</Card.Title>\r\n                                    <span className=\"d-block m-t-5\">manage  <code>the </code> Teacher data here</span>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                    <SortableTbl\r\n                                        tblData={datas}\r\n                                        tHead={tableHead}\r\n                                        customTd={[\r\n                                            { custd: DetailsComponent, keyItem: \"detail\" },\r\n                                            { custd: EditComponent, keyItem: \"edit\" },\r\n                                            { custd: DeleteComponent, keyItem: \"delete\" },\r\n                                        ]}\r\n                                        dKey={columun}\r\n                                        search={true}\r\n                                    />\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )        \r\n        }else{\r\n            /*\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                            <Card>\r\n                                <Card.Header>\r\n                                    <Card.Title as=\"h5\">No record</Card.Title>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n            */\r\n        }\r\n    }\r\n    \r\n    const boot = async () => {\r\n        setLoading(true)\r\n        const data = await reads();\r\n        if(!data){\r\n            Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n            setLoading(false)\r\n            setError(true)\r\n            return \r\n        }\r\n        if(data.error){\r\n            Swal.fire('Oops...', data.error, 'error')\r\n            setLoading(false)\r\n            setError(true)\r\n            return\r\n        }\r\n        if(data.message){\r\n            setLoading(false)\r\n            setError(false)\r\n            setDatas(data.data)\r\n            Swal.fire('Successful....', data.message, 'success');\r\n            let Toast = Swal.mixin({\r\n                toast: true,\r\n                timerProgressBar: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n    \r\n            return Toast.fire({\r\n                showClass: true,\r\n                type: 'success',\r\n                title: data.message\r\n            })\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        boot()\r\n    },[reload])\r\n\r\n    return (\r\n        <Aux>\r\n            {isLoading()}\r\n            {isError()}\r\n            {ViewData()}\r\n        </Aux>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}