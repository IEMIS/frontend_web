{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{Row,Col,Card,Button}from'react-bootstrap';import Aux from\"../../../hoc/_Aux\";import Swal from'sweetalert2';import{remove}from'./api';import{useParams,Redirect}from\"react-router-dom\";export default function Delete(props){var _useParams=useParams(),id=_useParams.id;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),reload=_React$useState2[0],setreload=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],seterror=_React$useState4[1];var _React$useState5=React.useState(true),_React$useState6=_slicedToArray(_React$useState5,2),loading=_React$useState6[0],setloading=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),redirectToPage=_React$useState8[0],setRedirectToPage=_React$useState8[1];var redirectUser=function redirectUser(){if(redirectToPage){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/users/read\"});}};var isLoading=function isLoading(){if(loading){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{as:\"h5\"},\"Wait !!!.\")),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Requesting to Delete Admin \"))))))));}};var isError=function isError(){if(error){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{as:\"h5\"},\"Error in Deleting user .\")),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Admin data failed to delete, Try again \",/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:handleReload},\"Reload\"),\" \"))))))));}};var handleReload=function handleReload(event){event.preventDefault();seterror(false);setloading(true);setreload(!reload);};React.useEffect(function(){var bootstrap=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,Toast;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setloading(true);_context.next=3;return remove(id);case 3:data=_context.sent;if(data){_context.next=8;break;}Swal.fire('Oops...','internet server error, Please, check your network connection','error');setloading(false);return _context.abrupt(\"return\",seterror(true));case 8:if(!data.error){_context.next=12;break;}Swal.fire('Oops...',data.error,'error');setloading(false);return _context.abrupt(\"return\",seterror(true));case 12:if(!data.message){_context.next=18;break;}Toast=Swal.mixin({toast:true,timerProgressBar:true,position:'top-end',showConfirmButton:false,timer:3000});Toast.fire({showClass:true,type:'success',title:data.message});setloading(false);setRedirectToPage(true);return _context.abrupt(\"return\",Swal.fire('Great',data.message,'success'));case 18:case\"end\":return _context.stop();}}},_callee);}));return function bootstrap(){return _ref.apply(this,arguments);};}();Swal.fire({title:'Do you sure to delete this user?',allowOutsideClick:false,showDenyButton:true,showCancelButton:false,confirmButtonText:\"Yes\",denyButtonText:\"No\",customClass:{cancelButton:'order-1 right-gap',confirmButton:'order-2',denyButton:'order-3'}}).then(function(result){if(result.isConfirmed){Swal.fire('Delete confirm','','success');bootstrap();}else if(result.isDenied){Swal.fire('Action canceled','','info');setRedirectToPage(true);}});},[reload,id]);return/*#__PURE__*/React.createElement(Aux,null,redirectUser(),isError(),isLoading());}","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/admin/Delete.js"],"names":["React","Row","Col","Card","Button","Aux","Swal","remove","useParams","Redirect","Delete","props","id","useState","reload","setreload","error","seterror","loading","setloading","redirectToPage","setRedirectToPage","redirectUser","isLoading","isError","handleReload","event","preventDefault","useEffect","bootstrap","data","fire","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","showClass","type","title","allowOutsideClick","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","customClass","cancelButton","confirmButton","denyButton","then","result","isConfirmed","isDenied"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Row, Col, Card, Button,} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport {  remove} from './api';\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\n\r\nexport default function Delete(props) {\r\n\r\n    let { id } = useParams();\r\n    const [reload, setreload] = React.useState(false)\r\n    const [error, seterror] = React.useState(false)\r\n    const [loading, setloading] = React.useState(true)\r\n    const [redirectToPage, setRedirectToPage] = React.useState(false)\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/users/read\" />\r\n        }\r\n    };\r\n\r\n    const isLoading= () => {\r\n        if(loading){\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h5\">Wait !!!.</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <h1>Requesting to Delete Admin </h1>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n        }\r\n    };\r\n\r\n    const isError = () => {\r\n        if(error){\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h5\">Error in Deleting user .</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <h1>Admin data failed to delete, Try again <Button variant=\"primary\" onClick={handleReload}>Reload</Button> </h1>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n        }\r\n    };\r\n\r\n    const handleReload = event =>{\r\n        event.preventDefault();\r\n        seterror(false)\r\n        setloading(true)\r\n        setreload(!reload)\r\n    }\r\n\r\n    \r\n\r\n    \r\n    React.useEffect(() => {\r\n        const bootstrap = async ()=>{\r\n            setloading(true)\r\n            const data = await remove(id);\r\n            if(!data){\r\n                Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n                setloading(false)\r\n                return seterror(true)  \r\n            }\r\n    \r\n            if(data.error){\r\n                Swal.fire('Oops...', data.error, 'error')\r\n                setloading(false)\r\n                return seterror(true)\r\n            }\r\n    \r\n            if(data.message){\r\n                let Toast = Swal.mixin({\r\n                    toast: true,\r\n                    timerProgressBar: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer: 3000\r\n                });\r\n                Toast.fire({\r\n                    showClass: true,\r\n                    type: 'success',\r\n                    title: data.message\r\n                })\r\n                setloading(false)\r\n                setRedirectToPage(true)\r\n                return Swal.fire('Great', data.message, 'success');\r\n            }  \r\n        }\r\n        Swal.fire({\r\n            title: 'Do you sure to delete this user?',\r\n            allowOutsideClick:false,\r\n            showDenyButton: true,\r\n            showCancelButton: false,\r\n            confirmButtonText: `Yes`,\r\n            denyButtonText: `No`,\r\n            customClass: {\r\n            cancelButton: 'order-1 right-gap',\r\n            confirmButton: 'order-2',\r\n            denyButton: 'order-3',\r\n            }\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n            Swal.fire('Delete confirm', '', 'success');\r\n            bootstrap()\r\n            } else if (result.isDenied) {\r\n            Swal.fire('Action canceled', '', 'info');\r\n            setRedirectToPage(true)\r\n            }\r\n        })\r\n    },[reload, id])\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            {isError()}\r\n            {isLoading()}\r\n        </Aux>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}