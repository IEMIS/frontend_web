{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";//let  BASE_URL = \"\",\nvar BASE_URL=\"https://iemis.herokuapp.com/api/v1\";export var signin=function signin(user){return fetch(\"\".concat(BASE_URL,\"/schools/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(BASE_URL,\"/schools/signin\"),{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json',accept:'application/json'}}).catch(function(err){console.log(err);});case 3:response=_context.sent;data=response.json();console.log(data);return _context.abrupt(\"return\",data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function login(_x){return _ref.apply(this,arguments);};}();export var authenticate=function authenticate(data,next){if(typeof window!=='undefined'){localStorage.setItem('schools-Auth',JSON.stringify(data));next();}};export var signout=function signout(next){if(typeof window!=='undefined'){localStorage.removeItem('schools-Auth');next();/*\r\n        return fetch(`${BASE_URL}/signout`, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => {\r\n                console.log('signout', response);\r\n            })\r\n            .catch(err => console.log(err));\r\n            */}};export var isAuthenticated=function isAuthenticated(){if(typeof window=='undefined'){return false;}if(localStorage.getItem('schools-Auth')){return JSON.parse(localStorage.getItem('schools-Auth'));}else{return false;}};export var forget=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(BASE_URL,\"/schools/forgetPassword\"),{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json; charset=UTF-8',accept:'application/json'}}).catch(function(err){return console.log(err);});case 3:response=_context2.sent;data=response.json();return _context2.abrupt(\"return\",data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function forget(_x2){return _ref2.apply(this,arguments);};}();export var reset=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(BASE_URL,\"/schools/resetPassword\"),{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json; charset=UTF-8',accept:'application/json'}}).catch(function(err){return console.log(err);});case 3:response=_context3.sent;data=response.json();return _context3.abrupt(\"return\",data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function reset(_x3){return _ref3.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/Auth/school/api/index.js"],"names":["BASE_URL","signin","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","login","accept","data","authenticate","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forget","reset"],"mappings":"yRAAA;AAEA,GAAMA,CAAAA,QAAQ,CAAG,oCAAjB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,CAAI,CAC1B,MAAOC,CAAAA,KAAK,WAAIH,QAAJ,oBAA+B,CACvCI,MAAM,CAAE,MAD+B,CAEvCC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAF8B,CAMvCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANiC,CAA/B,CAAL,CAQFQ,IARE,CAQG,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAkBP,MAAO,IAAMG,CAAAA,KAAK,0FAAG,iBAAOf,IAAP,0KAEUC,CAAAA,KAAK,WAAIH,QAAJ,oBAA8B,CACtDI,MAAM,CAAC,MAD+C,CAEtDG,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAFiD,CAGtDG,OAAO,CAAC,CACJ,eAAe,kBADX,CAEJa,MAAM,CAAC,kBAFH,CAH8C,CAA9B,CAAL,CAOpBL,KAPoB,CAOd,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CATsB,CAFV,QAEPH,QAFO,eAYPQ,IAZO,CAYAR,QAAQ,CAACC,IAAT,EAZA,CAabG,OAAO,CAACC,GAAR,CAAYG,IAAZ,EAba,gCAcNA,IAdM,0DAePJ,OAAO,CAACC,GAAR,cAfO,oEAAH,kBAALC,CAAAA,KAAK,4CAAX,CAkBP,MAAO,IAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACD,IAAD,CAAOE,IAAP,CAAgB,CACxC,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqChB,IAAI,CAACC,SAAL,CAAeU,IAAf,CAArC,EACAE,IAAI,GACP,CACJ,CALM,CAOP,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAJ,IAAI,CAAI,CAC3B,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,YAAY,CAACG,UAAb,CAAwB,cAAxB,EACAL,IAAI,GACJ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cACK,CACJ,CAdM,CAgBP,MAAO,IAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,GAAI,MAAOL,CAAAA,MAAP,EAAiB,WAArB,CAAkC,CAC9B,MAAO,MAAP,CACH,CACD,GAAIC,YAAY,CAACK,OAAb,CAAqB,cAArB,CAAJ,CAA0C,CACtC,MAAOpB,CAAAA,IAAI,CAACqB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,cAArB,CAAX,CAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CACJ,CATM,CAYP,MAAO,IAAME,CAAAA,MAAM,2FAAG,kBAAO5B,IAAP,gLAESC,CAAAA,KAAK,WAAIH,QAAJ,4BAAsC,CAC9DI,MAAM,CAAC,MADuD,CAE9DG,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAFyD,CAG9DG,OAAO,CAAC,CACJ,eAAe,iCADX,CAEJa,MAAM,CAAC,kBAFH,CAHsD,CAAtC,CAAL,CAOpBL,KAPoB,CAOd,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPW,CAFT,QAERH,QAFQ,gBAURQ,IAVQ,CAUDR,QAAQ,CAACC,IAAT,EAVC,kCAWPO,IAXO,6DAYRJ,OAAO,CAACC,GAAR,eAZQ,sEAAH,kBAANc,CAAAA,MAAM,8CAAZ,CAgBP,MAAO,IAAMC,CAAAA,KAAK,2FAAG,kBAAO7B,IAAP,gLAEUC,CAAAA,KAAK,WAAIH,QAAJ,2BAAqC,CAC7DI,MAAM,CAAC,MADsD,CAE7DG,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAFwD,CAG7DG,OAAO,CAAC,CACJ,eAAe,iCADX,CAEJa,MAAM,CAAC,kBAFH,CAHqD,CAArC,CAAL,CAOpBL,KAPoB,CAOd,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPW,CAFV,QAEPH,QAFO,gBAUPQ,IAVO,CAUAR,QAAQ,CAACC,IAAT,EAVA,kCAWNO,IAXM,6DAYPJ,OAAO,CAACC,GAAR,eAZO,sEAAH,kBAALe,CAAAA,KAAK,8CAAX","sourcesContent":["//let  BASE_URL = \"\",\r\n\r\nconst BASE_URL = \"https://iemis.herokuapp.com/api/v1\"\r\n\r\nexport const signin = user => {\r\n    return fetch(`${BASE_URL}/schools/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const login = async (user)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/signin`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        console.log(data)\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('schools-Auth', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('schools-Auth');\r\n        next();\r\n        /*\r\n        return fetch(`${BASE_URL}/signout`, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => {\r\n                console.log('signout', response);\r\n            })\r\n            .catch(err => console.log(err));\r\n            */\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('schools-Auth')) {\r\n        return JSON.parse(localStorage.getItem('schools-Auth'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\nexport const forget = async (user) =>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/forgetPassword`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json; charset=UTF-8',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => console.log(err));\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n\r\n}\r\n\r\nexport const reset = async (user) =>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/resetPassword`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json; charset=UTF-8',\r\n                accept:'application/json'\r\n            },\r\n        }).catch(err => console.log(err));\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}"]},"metadata":{},"sourceType":"module"}