{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\VP\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{Row,Col,Card,Button}from'react-bootstrap';import Aux from\"../../../hoc/_Aux\";import Swal from'sweetalert2';import{remove}from'./api';import{useParams,Redirect}from\"react-router-dom\";export default function Delete(props){var _useParams=useParams(),id=_useParams.id;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),reload=_React$useState2[0],setreload=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],seterror=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),redirectToPage=_React$useState6[0],setRedirectToPage=_React$useState6[1];var redirectUser=function redirectUser(){if(redirectToPage){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/schools/read\"});}};var isError=function isError(){if(error){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{as:\"h3\"},\"Error in Deleting School .\")),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"School data failed to delete, Try again \",/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:handleReload},\"Reload\"),\" \"))))))));}};var handleReload=function handleReload(event){event.preventDefault();seterror(false);setreload(!reload);};React.useEffect(function(){var bootstrap=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,Toast;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return remove(id);case 2:data=_context.sent;if(data){_context.next=7;break;}Swal.fire('Oops...','internet server error, Please, check your network connection','error');seterror(true);return _context.abrupt(\"return\");case 7:if(!data.error){_context.next=11;break;}Swal.fire('Oops...',data.error,'error');seterror(true);return _context.abrupt(\"return\");case 11:if(!data.message){_context.next=16;break;}Swal.fire('Successful',data.message,'success');setRedirectToPage(true);Toast=Swal.mixin({toast:true,timerProgressBar:true,position:'top-end',showConfirmButton:false,timer:3000});return _context.abrupt(\"return\",Toast.fire({showClass:true,type:'success',title:data.message}));case 16:case\"end\":return _context.stop();}}},_callee);}));return function bootstrap(){return _ref.apply(this,arguments);};}();bootstrap();},[reload,id]);return/*#__PURE__*/React.createElement(Aux,null,redirectUser(),isError());}","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/teachers/Delete.js"],"names":["React","Row","Col","Card","Button","Aux","Swal","remove","useParams","Redirect","Delete","props","id","useState","reload","setreload","error","seterror","redirectToPage","setRedirectToPage","redirectUser","isError","handleReload","event","preventDefault","useEffect","bootstrap","data","fire","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","showClass","type","title"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Row, Col, Card, Button,} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport {  remove} from './api';\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\n\r\nexport default function Delete(props) {\r\n\r\n    let { id } = useParams();\r\n    const [reload, setreload] = React.useState(false)\r\n    const [error, seterror] = React.useState(false)\r\n    const [redirectToPage, setRedirectToPage] = React.useState(false)\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/schools/read\" />\r\n        }\r\n    };\r\n    const isError = () => {\r\n        if(error){\r\n            return (\r\n                <Aux>\r\n                    <Row>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Error in Deleting School .</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <h1>School data failed to delete, Try again <Button variant=\"primary\" onClick={handleReload}>Reload</Button> </h1>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Aux>\r\n            )\r\n        }\r\n    };\r\n\r\n    const handleReload = event =>{\r\n        event.preventDefault();\r\n        seterror(false)\r\n        setreload(!reload)\r\n    }\r\n\r\n    \r\n    React.useEffect(() => {\r\n        const bootstrap = async ()=>{\r\n            const data = await remove(id);\r\n            if(!data){\r\n                Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n                seterror(true)\r\n                return\r\n            }\r\n    \r\n            if(data.error){\r\n                Swal.fire('Oops...', data.error, 'error')\r\n                seterror(true)\r\n                return\r\n            }\r\n    \r\n            if(data.message){\r\n                Swal.fire('Successful', data.message, 'success')\r\n                setRedirectToPage(true);\r\n                let Toast = Swal.mixin({\r\n                    toast: true,\r\n                    timerProgressBar: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer: 3000\r\n                });\r\n                return Toast.fire({\r\n                    showClass: true,\r\n                    type: 'success',\r\n                    title: data.message\r\n                })\r\n            }\r\n        }\r\n        bootstrap();\r\n    },[reload, id])\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            {isError()}\r\n        </Aux>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}