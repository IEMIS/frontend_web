{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/VP/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\VP\\\\web\\\\src\\\\screen\\\\admin\\\\admin\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Aux from \"../../../hoc/_Aux\";\nimport Swal from \"sweetalert2\";\nimport { Redirect } from \"react-router-dom\";\nimport { create } from \"./api\";\nimport { isAuthenticated } from \"../../Auth/admin/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Create() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState({\n    firstName: \"\",\n    lastName: \"\",\n    middleName: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    level: \"\",\n    loading: false,\n    redirectToPage: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setValues = _React$useState2[1];\n\n  var firstName = values.firstName,\n      lastName = values.lastName,\n      middleName = values.middleName,\n      phone = values.phone,\n      email = values.email,\n      password = values.password,\n      password2 = values.password2,\n      level = values.level,\n      loading = values.loading,\n      redirectToPage = values.redirectToPage;\n\n  var handleChange = function handleChange(name) {\n    return function (event) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, event.target.value)));\n    };\n  };\n\n  var submit = function submit(event) {\n    event.preventDefault();\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n\n    if (firstName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin first Name is required\", \"error\");\n    }\n\n    if (middleName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin Middle Name is required\", \"error\");\n    }\n\n    if (lastName === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Admin Last Name is required\", \"error\");\n    }\n\n    if (email === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Email is required\", \"error\");\n    }\n\n    if (phone === \"\") {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Phone Number is required\", \"error\");\n    }\n\n    if (password !== password2) {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        loading: false\n      }));\n      return Swal.fire(\"Oops...\", \"Password must match each other\", \"error\");\n    }\n\n    handleCreate();\n  };\n\n  var handleCreate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var user, Auth, data, Toast;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = {\n                firstName: firstName,\n                lastName: lastName,\n                middleName: middleName,\n                phone: phone,\n                email: email,\n                password: password,\n                password2: password2,\n                level: level\n              };\n              Auth = isAuthenticated();\n              _context.next = 4;\n              return create(user, Auth.token);\n\n            case 4:\n              data = _context.sent;\n\n              if (data) {\n                _context.next = 8;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", \"internet server error, Please, check your network connection\", \"error\");\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 8:\n              if (!data.error) {\n                _context.next = 11;\n                break;\n              }\n\n              Swal.fire(\"Oops...\", data.error, \"error\");\n              return _context.abrupt(\"return\", setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false\n              })));\n\n            case 11:\n              if (!data.message) {\n                _context.next = 16;\n                break;\n              }\n\n              Swal.fire(\"saved...\", data.message, \"success\");\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: false,\n                redirectToPage: true\n              }));\n              Toast = Swal.mixin({\n                toast: true,\n                timerProgressBar: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 3000\n              });\n              return _context.abrupt(\"return\", Toast.fire({\n                animation: true,\n                type: \"success\",\n                title: \"Request is successful\"\n              }));\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleCreate() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var redirectUser = function redirectUser() {\n    if (redirectToPage) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/admin/users/create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 14\n      }, _this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Aux, {\n    children: [redirectUser(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add new Admin user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"First Name \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"First Name\",\n                onChange: handleChange(\"firstName\"),\n                value: firstName,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Last Name\",\n                onChange: handleChange(\"lastName\"),\n                value: lastName,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Middle Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Middle name\",\n                onChange: handleChange(\"middleName\"),\n                value: middleName,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Phone Number \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"phone Number\",\n                onChange: handleChange(\"phone\"),\n                value: phone,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Admin Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: \"email\",\n                onChange: handleChange(\"email\"),\n                value: email,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Admin Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: handleChange(\"level\"),\n                value: level,\n                className: \"form-control\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Select Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2\",\n                  children: \"Moderator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Password\",\n                onChange: handleChange(\"password\"),\n                value: password,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                children: \"Password Again \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Password\",\n                onChange: handleChange(\"password2\"),\n                value: password2,\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary offset-9\",\n            disabled: true,\n            children: \"Loading ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: submit,\n            className: \"btn btn-primary offset-9\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 117\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Create, \"MewXjc2JZiu9APNNVEIszl+cafo=\");\n\n_c = Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/VP/web/src/screen/admin/admin/Create.js"],"names":["React","Aux","Swal","Redirect","create","isAuthenticated","Create","useState","firstName","lastName","middleName","phone","email","password","password2","level","loading","redirectToPage","values","setValues","handleChange","name","event","target","value","submit","preventDefault","fire","handleCreate","user","Auth","token","data","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","redirectUser"],"mappings":"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","sourcesContent":["\r\nimport React from \"react\";\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { create } from \"./api\";\r\nimport { isAuthenticated } from \"../../Auth/admin/api\";\r\n\r\nexport default function Create() {\r\n  const [values, setValues] = React.useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    middleName: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password2: \"\",\r\n    level: \"\",\r\n    loading: false,\r\n    redirectToPage: false,\r\n  });\r\n  const {\r\n    firstName,\r\n    lastName,\r\n    middleName,\r\n    phone,\r\n    email,\r\n    password,\r\n    password2,\r\n    level,\r\n    loading,\r\n    redirectToPage,\r\n  } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, loading: true });\r\n    if (firstName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin first Name is required\", \"error\");\r\n    }\r\n    if (middleName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin Middle Name is required\", \"error\");\r\n    }\r\n    if (lastName === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Admin Last Name is required\", \"error\");\r\n    }\r\n    if (email === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Email is required\", \"error\");\r\n    }\r\n    if (phone === \"\") {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Phone Number is required\", \"error\");\r\n    }\r\n\r\n    if (password !== password2) {\r\n      setValues({ ...values, loading: false });\r\n      return Swal.fire(\"Oops...\", \"Password must match each other\", \"error\");\r\n    }\r\n    handleCreate();\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    const user = {\r\n      firstName,\r\n      lastName,\r\n      middleName,\r\n      phone,\r\n      email,\r\n      password,\r\n      password2,\r\n      level,\r\n    };\r\n    const Auth = isAuthenticated();\r\n    const data = await create(user, Auth.token);\r\n    if (!data) {\r\n      Swal.fire(\r\n        \"Oops...\",\r\n        \"internet server error, Please, check your network connection\",\r\n        \"error\"\r\n      );\r\n      return setValues({ ...values, loading: false });\r\n    }\r\n    if (data.error) {\r\n      Swal.fire(\"Oops...\", data.error, \"error\");\r\n      return setValues({ ...values, loading: false });\r\n    }\r\n    if (data.message) {\r\n      Swal.fire(\"saved...\", data.message, \"success\");\r\n      setValues({ ...values, loading: false, redirectToPage: true });\r\n      let Toast = Swal.mixin({\r\n        toast: true,\r\n        timerProgressBar: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n      });\r\n\r\n      return Toast.fire({\r\n        animation: true,\r\n        type: \"success\",\r\n        title: \"Request is successful\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToPage) {\r\n      return <Redirect to=\"/admin/users/create\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Aux>\r\n      {redirectUser()}\r\n      <div className=\"row\">\r\n        <div className=\"container\">\r\n          <h1>Add new Admin user</h1>\r\n          <hr />\r\n          <div className=\"row\">\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">First Name </label>\r\n                  <input  type=\"text\"placeholder=\"First Name\" onChange={handleChange(\"firstName\")}value={firstName} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Last Name</label>\r\n                  <input  type=\"text\"placeholder=\"Last Name\" onChange={handleChange(\"lastName\")} value={lastName} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n                  \r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Middle Name</label>\r\n                  <input  type=\"text\" placeholder=\"Middle name\" onChange={handleChange(\"middleName\")} value={middleName} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Phone Number </label>\r\n                  <input type=\"text\"placeholder=\"phone Number\" onChange={handleChange(\"phone\")} value={phone} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Admin Email Address</label>\r\n                  <input  type=\"email\" placeholder=\"email\" onChange={handleChange(\"email\")} value={email} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Admin Role</label>\r\n                  <select onChange={handleChange(\"level\")} value={level} className=\"form-control\">\r\n                    <option>Select Role</option>\r\n                    <option value=\"1\">Admin</option>\r\n                    <option value=\"2\">Moderator</option> \r\n                  </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Password</label>\r\n                  <input type=\"password\" placeholder=\"Password\" onChange={handleChange(\"password\")} value={password} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Password Again </label>\r\n                  <input type=\"password\" placeholder=\"Password\" onChange={handleChange(\"password2\")} value={password2} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n              </div>\r\n            </div>\r\n            {loading ? <button type=\"submit\"  className=\"btn btn-primary offset-9\" disabled >Loading ...</button> : <button type=\"submit\" onClick={submit}  className=\"btn btn-primary offset-9\">Submit</button>}\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </Aux>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}