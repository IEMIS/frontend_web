{"version":3,"sources":["screen/admin/admin/api/index.js","screen/admin/admin/Create.js"],"names":["BASE_URL","create","user","token","a","fetch","method","body","JSON","stringify","headers","accept","Authorization","catch","err","console","log","response","data","json","reads","read","edit","id","remove","Create","React","useState","firstName","lastName","middleName","phone","email","password","password2","level","loading","redirectToPage","values","setValues","handleChange","name","event","target","value","handleCreate","Swal","fire","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","to","redirectUser","Header","Title","as","Body","md","Group","controlId","Label","Control","placeholder","onChange","variant","onClick","preventDefault"],"mappings":"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","file":"static/js/76.761df2bb.chunk.js","sourcesContent":["//let  BASE_URL = \"\",\r\n\r\nconst BASE_URL = \"https://iemis.herokuapp.com/api/v1\"\r\n\r\nexport const create = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\nexport const reads = async (token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const read = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/${user}`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const edit = async (id, user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/${id}`,{\r\n            method:'PUT',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const remove = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/admin/${user}`,{\r\n            method:'DELETE',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\n\r\nimport React from 'react'\r\nimport {Row, Col, Card, Form, Button} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport {Redirect} from 'react-router-dom'\r\nimport { create } from './api';\r\n\r\n\r\nexport default function Create() {\r\n\r\n    const [values, setValues] = React.useState({\r\n        firstName:\"\",\r\n        lastName:\"\",\r\n        middleName:\"\",\r\n        phone:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        password2:\"\",\r\n        level:\"\",\r\n        loading:false,\r\n        redirectToPage:false,\r\n    })\r\n    const {firstName, lastName, middleName, phone, email, password, password2, level, loading, redirectToPage} = values\r\n\r\n    const handleChange = name=>event=>{\r\n        setValues({...values, [name]:event.target.value})\r\n    }\r\n\r\n    const submit = event =>{\r\n        event.preventDefault();\r\n        setValues({...values, loading:true})\r\n        if(firstName===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Admin first Name is required', 'error');\r\n        }\r\n        if(middleName===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Admin Middle Name is required', 'error');\r\n        }\r\n        if(lastName===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Admin Last Name is required', 'error');\r\n        }\r\n        if(email===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Email is required', 'error');\r\n        }\r\n        if(phone===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Phone Number is required', 'error');\r\n        }\r\n\r\n        if(password !== password2) {\r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Password must match each other', 'error');\r\n        }\r\n\r\n        handleCreate();\r\n    }\r\n\r\n    const handleCreate =async ()=>{\r\n        const user = {firstName, lastName, middleName, phone, email, password, password2, level}\r\n        console.log({user})\r\n        const data = await create(user);\r\n        \r\n        if(!data){\r\n            Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.error){\r\n            Swal.fire('Oops...', data.error, 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.message){\r\n            Swal.fire('saved...', data.message, 'success')\r\n           return setValues({...values, loading:false, redirectToPage:true})\r\n        }\r\n\r\n        let Toast = Swal.mixin({\r\n            toast: true,\r\n            timerProgressBar: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000\r\n        });\r\n\r\n        return Toast.fire({\r\n            animation: true,\r\n            type: 'success',\r\n            title: 'Request is successful'\r\n        })\r\n    }\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/users/create\" />\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            <Row>\r\n                    <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Add New Admin user</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col md={6}>\r\n                                        <Form>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>First name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"First name\" onChange={handleChange(\"firstName\")} value={firstName} />\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Middle Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"Middle name\" onChange={handleChange(\"middleName\")} value={middleName} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Phone </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"phone\" onChange={handleChange(\"phone\")} value={phone} />\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group controlId=\"formBasicPassword\">\r\n                                                <Form.Label>Password</Form.Label>\r\n                                                <Form.Control type=\"password\" placeholder=\"Password\" onChange={handleChange(\"password\")} value={password} />\r\n                                            </Form.Group>\r\n\r\n                                            {\r\n                                                loading ? \"loading ...\" : <Button variant=\"primary\" onClick={submit}  >Create ..</Button>\r\n                                            }\r\n                                        </Form>\r\n                                    </Col>\r\n                                    <Col md={6}>\r\n                                        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                                            <Form.Label>Last name</Form.Label>\r\n                                            <Form.Control type=\"text\" placeholder=\"Last name\" onChange={handleChange(\"lastName\")} value={lastName} />\r\n                                        </Form.Group>\r\n                                        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                                            <Form.Label>email </Form.Label>\r\n                                            <Form.Control type=\"email\" placeholder=\"email\" onChange={handleChange(\"email\")} value={email}/>\r\n                                        </Form.Group>\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Admin Role </Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"level\")} value={level}>\r\n                                                <option>Select Role</option>\r\n                                                <option value=\"1\">Admin</option>\r\n                                                <option value=\"2\">Moderator</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                        <Form.Group controlId=\"formBasicPassword\">\r\n                                            <Form.Label>Password Confirmation</Form.Label>\r\n                                            <Form.Control type=\"password\" placeholder=\"Password Confirmation\" onChange={handleChange(\"password2\")} value={password2} />\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n        </Aux>\r\n    )\r\n}\r\n"],"sourceRoot":""}