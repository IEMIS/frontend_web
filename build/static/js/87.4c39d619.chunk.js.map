{"version":3,"sources":["screen/admin/students/api/index.js","screen/admin/students/Create.js"],"names":["BASE_URL","create","user","token","a","fetch","method","body","JSON","stringify","headers","accept","Authorization","catch","err","console","log","response","data","json","reads","remove","readsSchool","Create","React","useState","studentCode","school","parent","stream","firstName","middleName","lastName","religion","gender","dob","country","ethnicity","disability","yearAdmission","presentClass","HadEce","subject","status","session","province","loading","redirectToPage","schoolList","parentList","subjectList","sessionList","values","setValues","handleChange","name","event","target","value","handleCreate","student","Swal","fire","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","useEffect","scho","v","bootstrap","to","redirectUser","Header","Title","as","Body","md","Group","controlId","Label","Control","placeholder","onChange","length","map","id","_id","par","subj","sess","variant","onClick","preventDefault"],"mappings":"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","file":"static/js/87.4c39d619.chunk.js","sourcesContent":["//let  BASE_URL = \"\",\r\n\r\nconst BASE_URL = \"https://iemis.herokuapp.com/api/v1\"\r\n\r\nexport const create = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/students`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json', \r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\nexport const reads = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/students`,{\r\n            method:'GET',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json', \r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const read = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/students/${user}`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const edit = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/students/${user}`,{\r\n            method:'PUT',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const remove = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/students/${user}`,{\r\n            method:'DELETE',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n/*\r\n//get district \r\nexport const readsDistrict = async (token)=>{\r\n    try{\r\n        //district\r\n        const response = await fetch(`${BASE_URL}/district`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n*/\r\n//get school\r\nexport const readsSchool = async (token)=>{\r\n    try{\r\n        //school\r\n        const response = await fetch(`${BASE_URL}/school`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\n//get subject\r\nexport const readsSubject = async (token)=>{\r\n    try{\r\n        //subject\r\n        const response = await fetch(`${BASE_URL}/subject`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n//get parent\r\nexport const readsParent = async (token)=>{\r\n    try{\r\n        //parent\r\n        const response = await fetch(`${BASE_URL}/parent`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport {Row, Col, Card, Form, Button} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport {Redirect} from 'react-router-dom'\r\nimport { create, readsSchool } from './api';\r\n\r\n\r\nexport default function Create() {\r\n\r\n    const [values, setValues] = React.useState({\r\n        studentCode:\"\",\r\n        school:\"\",\r\n        parent:\"\",\r\n        stream:\"\",\r\n        firstName:\"\",\r\n        middleName:\"\",\r\n        lastName:\"\",\r\n        religion:\"\",\r\n        gender:\"\",\r\n        dob:\"\",\r\n        country:\"\",\r\n        ethnicity:\"\",\r\n        disability:\"\",\r\n        yearAdmission:\"\",\r\n        presentClass:\"\",\r\n        HadEce:\"\",\r\n        subject:\"\",\r\n        status:\"\",\r\n        session:\"\",\r\n        province:\"\",\r\n        loading:false,\r\n        redirectToPage:false,\r\n        schoolList:[],\r\n        parentList:[],\r\n        subjectList:[],\r\n        sessionList:[]\r\n    })\r\n    const {studentCode, school, parent, presentClass,stream, firstName, middleName, lastName, gender, religion, dob,country, disability, yearAdmission, HadEce,subject, status, session, province,ethnicity, loading, redirectToPage, schoolList,parentList,subjectList,sessionList} = values\r\n\r\n    const handleChange = name=>event=>{\r\n        setValues({...values, [name]:event.target.value})\r\n    }\r\n\r\n    const submit = event =>{\r\n        event.preventDefault();\r\n        //const student = {studentCode, school, parent, presentClass, stream, firstName, middleName, lastName, gender, religion, dob, country, disability, yearAdmission, HadEce, subject, province}\r\n        //console.log(JSON.stringify(student))\r\n        setValues({...values, loading:true})\r\n        if(studentCode===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Student code is required', 'error');\r\n        }\r\n        if(school===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School is required', 'error');\r\n        }\r\n        if(parent===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'ParentID is required', 'error');\r\n        }\r\n        if(presentClass===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Present Class is required', 'error');\r\n        }\r\n        if(stream===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Class Stream is required', 'error');\r\n        }\r\n        if(firstName===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'First Name  is required', 'error');\r\n        }\r\n        if(lastName===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Last Name is required', 'error');\r\n        }\r\n        if(gender===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Gender is required', 'error');\r\n        }\r\n        if(dob===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Date of Birth is required', 'error');\r\n        }\r\n        if(country===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Country is required', 'error');\r\n        }\r\n        if(disability===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Disability is required', 'error');\r\n        }\r\n        if(status===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Studentship status is required', 'error');\r\n        }\r\n        if(session===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Academic session is required', 'error');\r\n        }\r\n\r\n        handleCreate();\r\n    }\r\n\r\n    const handleCreate =async ()=>{\r\n        //const user = {code, names,district, phone, email, password, password2, address,fax,mailBox,province,eduLevel,ownership,estabYear,schoolCat,schoolType,headID, loading, redirectToPage, districtList}\r\n        const student = {studentCode, school, parent, presentClass, stream, firstName, middleName, lastName, gender, religion, dob, country, disability, yearAdmission, HadEce, subject, province}\r\n        const data = await create(student);\r\n        console.log(data)\r\n        if(!data){\r\n            Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.error){\r\n            Swal.fire('Oops...', data.error, 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.message){\r\n            Swal.fire('Saved...', data.message, 'success')\r\n           setValues({...values, loading:false, redirectToPage:true})\r\n           let Toast = Swal.mixin({\r\n            toast: true,\r\n            timerProgressBar: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000\r\n            });\r\n\r\n            return Toast.fire({\r\n                animation: true,\r\n                type: 'success',\r\n                title: 'Request is successful'\r\n            })\r\n        }\r\n    }\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/schools/create\" />\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const bootstrap = async () =>{\r\n            //const dist = await readsDistrict();\r\n            const scho = await readsSchool();\r\n            let studentCode = `SCH${`0012`}`;\r\n            setValues(v => ({...v, schoolList:scho.data, studentCode})); \r\n        }\r\n        bootstrap()\r\n    }, [])\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            <Row>\r\n                    <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Add New Student</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col md={6}>\r\n                                        <Form>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Student Code</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"school code\" onChange={handleChange(\"studentCode\")} value={studentCode} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>School</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"school\")} value={school}>\r\n                                                <option>Select school</option>\r\n                                               {\r\n                                                   schoolList && schoolList.length > 0 \r\n                                                   ?\r\n                                                   schoolList.map((scho, id)=>{\r\n                                                       return(\r\n                                                        <option value={scho._id}>{scho.school}</option>\r\n                                                       ) \r\n                                                   }) : <option value=\"0\">Fails to fetch school</option>\r\n                                               }\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>parent</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"parent\")} value={parent}>\r\n                                                <option>Select Parent</option>\r\n                                               {\r\n                                                   parentList && parentList.length > 0 \r\n                                                   ?\r\n                                                   schoolList.map((par, id)=>{\r\n                                                       return(\r\n                                                        <option value={par._id}>{par.school}</option>\r\n                                                       ) \r\n                                                   }) : <option value=\"0\">Fails to fetch Parent</option>\r\n                                               }\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label> First Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"First Name\" onChange={handleChange(\"firstName\")} value={firstName} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Last Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"Surname\" onChange={handleChange(\"lastName\")} value={lastName} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label> Middle Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"Middle Name\" onChange={handleChange(\"middleName\")} value={middleName} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Religion</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"religion\")} value={religion}>\r\n                                                <option>Select Religion</option>\r\n                                                <option value=\"Christainity\">Christainity</option>\r\n                                                <option value=\"Hinduism\">Hinduism</option>\r\n                                                <option value=\"Islam\">Islam</option>\r\n                                                <option value=\"Tradition\">Tradition</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Date of Birth </Form.Label>\r\n                                                <Form.Control type=\"date\" placeholder=\"date of birth on certificate\" onChange={handleChange(\"dob\")} value={dob} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Gender</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"gender\")} value={gender}>\r\n                                                <option>Select Gender</option>\r\n                                                <option value=\"M\">Male</option>\r\n                                                <option value=\"F\">Female</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Province</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"province\")} value={province}>\r\n                                                <option>Select Province</option>\r\n                                                <option value=\"Ba\">Ba</option>\r\n                                                <option value=\"Bua\">Bua</option>\r\n                                                <option value=\"Cakaudrove\">Cakaudrove</option>\r\n                                                <option value=\"Kadavu\">Kadavu</option>\r\n                                                <option value=\"Lau\">Lau</option>\r\n                                                <option value=\"Laomaiviti\">Laomaiviti</option>\r\n                                                <option value=\"Macuaa\">Macuaa</option>\r\n                                                <option value=\"Nadroga\">Nadroga-Navosa</option>\r\n                                                <option value=\"Naitasiri\">Naitasiri</option>\r\n                                                <option value=\"Namosi\">Namosi</option>\r\n                                                <option value=\"Ra\">Ra</option>\r\n                                                <option value=\"Rewa\">Rewa</option>\r\n                                                <option value=\"Serua\">Serua</option>\r\n                                                <option value=\"Tailevu\">Tailevu</option>\r\n                                            </Form.Control>\r\n                                     </Form.Group>\r\n                                            \r\n                                        </Form>\r\n                                    </Col>\r\n                                    <Col md={6}>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Country</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"country\")} value={country}>\r\n                                                <option>Select Country</option>\r\n                                                <option value=\"Fijian\">Fijian Citizen</option>\r\n                                                <option value=\"International\">International</option>\r\n                                                <option value=\"Regional\">Regional</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Ethnicity</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"ethnicity\")} value={ethnicity}>\r\n                                                <option>Select Ethnicity</option>\r\n                                                <option value=\"Indo-Fijian\">Indo Fijian</option>\r\n                                                <option value=\"itaukei\">Itaukei</option>\r\n                                                <option value=\"others\">Others</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Disability</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"disability\")} value={disability}>\r\n                                                <option>Select Disability</option>\r\n                                                <option value=\"albinism\">Albinism</option>\r\n                                                <option value=\"behaviour\">Behavioural Disoder</option>\r\n                                                <option value=\"hearing\">Hearing/Auditory Challenged</option>\r\n                                                <option value=\"intellect\">Visually Challenged</option>\r\n                                                <option value=\"learning\">Learning</option>\r\n                                                <option value=\"mobility\">Mobility Restricted</option> \r\n                                                <option value=\"speech\">Speech</option>\r\n                                                <option value=\"visual\">Visually Challenged</option>\r\n                                                <option value=\"none\">None</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Admission Year </Form.Label>\r\n                                                <Form.Control type=\"date\" placeholder=\"Admission Year\" onChange={handleChange(\"yearAdmission\")} value={yearAdmission} />\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Present Class</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"presentClass\")} value={presentClass}>\r\n                                                <option>Select Present Class</option>\r\n                                                <option value=\"Preprimary\">Pre-Primary</option>\r\n                                                <option value=\"Y1\">Year 1</option>\r\n                                                <option value=\"Y2\">Year 2</option>\r\n                                                <option value=\"Y3\">Year 3</option>\r\n                                                <option value=\"Y4\">Year 4</option>\r\n                                                <option value=\"Y5\">Year 5</option>\r\n                                                <option value=\"Y6\">Year 6</option>\r\n                                                <option value=\"Y7\">Year 7</option>\r\n                                                <option value=\"Y8\">Year 8</option>\r\n                                                <option value=\"Y9\">Year 9</option>\r\n                                                <option value=\"Y10\">Year 10</option>\r\n                                                <option value=\"Y11\">Year 11</option>\r\n                                                <option value=\"Y12\">Year 12</option>\r\n                                                <option value=\"Y13\">Year 13</option>\r\n                                                <option value=\"voc1\">Voc YR1</option>\r\n                                                <option value=\"voc2\">Voc YR2</option>   \r\n                                            </Form.Control>\r\n                                    </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Had ECE</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"HadEce\")} value={HadEce}>\r\n                                                <option>Select</option>\r\n                                                <option value=\"Yes\">Yes </option>\r\n                                                <option value=\"No\">No</option>\r\n                                    </Form.Control>\r\n                                    </Form.Group>\r\n                                     <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Subject</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"subject\")} value={subject}>\r\n                                                <option>Select subject</option>\r\n                                               {\r\n                                                   subjectList && subjectList.length > 0 \r\n                                                   ?\r\n                                                  subjectList.map((subj, id)=>{\r\n                                                       return(\r\n                                                        <option value={subj._id}>{subj.subject}</option>\r\n                                                       ) \r\n                                                   }) : <option value=\"0\">Fails to fetch subject</option>\r\n                                               }\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Studentship</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"status\")} value={status}>\r\n                                                <option>Select student status</option>\r\n                                                <option value=\"promoter\">Promoted</option>\r\n                                                <option value=\"dropout\">Drop-out</option>\r\n                                                <option value=\"repeater\">Repeater</option>\r\n                                                <option value=\"deceased\">Deceased</option>\r\n                                                <option value=\"relocate\">Overseas Relocation</option>\r\n                                                <option value=\"graduate\">Graduated</option>\r\n                                            </Form.Control>\r\n                                     </Form.Group>\r\n                                     <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Session</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"session\")} value={session}>\r\n                                                <option>Select Session</option>\r\n                                               {\r\n                                                   sessionList && sessionList.length > 0 \r\n                                                   ?\r\n                                                  sessionList.map((sess, id)=>{\r\n                                                       return(\r\n                                                        <option value={sess._id}>{sess.session}</option>\r\n                                                       ) \r\n                                                   }) : <option value=\"0\">Fails to fetch Session</option>\r\n                                               }\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                        \r\n                                        {\r\n                                                loading ? \"loading ...\" : <Button variant=\"primary\" onClick={submit}  >Create ..</Button>\r\n                                            }\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n        </Aux>\r\n    )\r\n}"],"sourceRoot":""}