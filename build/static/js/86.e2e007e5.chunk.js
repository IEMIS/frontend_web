(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[86],{126:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s}));var n=a(55),r=a.n(n),c=a(56),o="https://iemis.herokuapp.com/api/v1",l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/schools"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return n=e.sent,c=n.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/schools"),{method:"GET",body:JSON.stringify(t),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return n=e.sent,c=n.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/schools/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return n=e.sent,c=n.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district"),{method:"GET",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(t)}}).catch((function(e){console.log(e)}));case 3:return a=e.sent,n=a.json(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},246:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n,r,c,o=a(55),l=a.n(o),u=a(56),i=a(96),s=a(64),f=a(0),p=a.n(f),d=a(81),m=a(89),h=a(82),E=a(165),b=a(30),v=a(63),g=a.n(v),j=a(126),y=a(21),x=a(97),k=a.n(x),O=a(98);function w(){var e=p.a.useState([]),t=Object(s.a)(e,2),a=t[0],o=t[1],f=p.a.useState(!1),v=Object(s.a)(f,2),x=v[0],w=v[1],D=p.a.useState(!1),S=Object(s.a)(D,2),T=S[0],B=S[1],C=p.a.useState(!1),N=Object(s.a)(C,2),z=N[0],A=N[1],H=function(e){e.preventDefault(),B(!1),w(!0),A(!z)},J=["staffCode","district","firstName","lastName","designation","edit","detail","delete"],L=["Staff Code","District","First Name","Last Name","Designation","Edit","Details","Delete"],I=Object(O.a)(y.b)(n||(n=Object(i.a)(["\n        padding: 10px 20px;\n        cursor: pointer;\n        border-radius: 3px;\n        background-color: #f0ad4e;\n        color: #fff;\n    "]))),P=Object(O.a)(y.b)(r||(r=Object(i.a)(["\n        padding: 10px 20px;\n        cursor: pointer;\n        border-radius: 3px;\n        background-color: #3F4D67;\n        color: #fff;\n    "]))),_=Object(O.a)(y.b)(c||(c=Object(i.a)(["\n        padding: 10px 20px;\n        cursor: pointer;\n        border-radius: 3px;\n        background-color: #d43f3a;\n        color: #fff;\n    "]))),F=function(e){var t=e.rowData;return p.a.createElement("td",{variant:"primary"},p.a.createElement(P,{to:"/admin/staffs/read/".concat(t._id)}," Details "))},G=function(e){var t=e.rowData;return p.a.createElement("td",{variant:"danger"},p.a.createElement(_,{to:"/admin/staffs/delete/".concat(t._id)},"Delete"))},K=function(e){var t=e.rowData;return p.a.createElement("td",null,p.a.createElement(I,{to:"/admin/staffs/edit/".concat(t._id)},"Edit"))},R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Object(j.b)();case 3:if(t=e.sent){e.next=9;break}return g.a.fire("Oops...","internet server error, Please, check your network connection","error"),w(!1),B(!0),e.abrupt("return");case 9:if(!t.error){e.next=14;break}return g.a.fire("Oops...",t.error,"error"),w(!1),B(!0),e.abrupt("return");case 14:if(!t.message){e.next=21;break}return w(!1),B(!1),o(t.data),g.a.fire("Successful....",t.message,"success"),a=g.a.mixin({toast:!0,timerProgressBar:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),e.abrupt("return",a.fire({showClass:!0,type:"success",title:t.message}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.a.useEffect((function(){R()}),[z]),p.a.createElement(b.a,null,function(){if(x)return p.a.createElement(b.a,null,p.a.createElement(d.a,null,p.a.createElement(m.a,null,p.a.createElement(h.a,null,p.a.createElement(h.a.Header,null,p.a.createElement(h.a.Title,{as:"h3"},"Wait loading data ...")),p.a.createElement(h.a.Body,null,p.a.createElement(d.a,null,p.a.createElement(m.a,null,p.a.createElement("h1",null,"Staff list is loading "))))))))}(),function(){if(T)return p.a.createElement(b.a,null,p.a.createElement(d.a,null,p.a.createElement(m.a,null,p.a.createElement(h.a,null,p.a.createElement(h.a.Header,null,p.a.createElement(h.a.Title,{as:"h3"},"Error in loading Data.")),p.a.createElement(h.a.Body,null,p.a.createElement(d.a,null,p.a.createElement(m.a,null,p.a.createElement("h1",null,"Staff data failed to Load, you can refresh ",p.a.createElement(E.a,{variant:"primary",onClick:H},"Reload")," "))))))))}(),function(){if(a&&a.length>0)return p.a.createElement(b.a,null,p.a.createElement(d.a,null,p.a.createElement(m.a,null,p.a.createElement(h.a,null,p.a.createElement(h.a.Header,null,p.a.createElement(h.a.Title,{as:"h5"},"Staff List"),p.a.createElement("span",{className:"d-block m-t-5"},"manage  ",p.a.createElement("code",null,"the ")," Staff data here")),p.a.createElement(h.a.Body,null,p.a.createElement(k.a,{tblData:a,tHead:L,customTd:[{custd:F,keyItem:"detail"},{custd:K,keyItem:"edit"},{custd:G,keyItem:"delete"}],dKey:J,search:!0}))))))}())}}}]);
//# sourceMappingURL=86.e2e007e5.chunk.js.map