(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[93],{112:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return p}));var r=a(55),n=a.n(r),c=a(56),o="https://iemis.herokuapp.com/api/v1",l=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,c=r.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district"),{method:"GET",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(t)}}).catch((function(e){console.log(e)}));case 3:return a=e.sent,r=a.json(),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,c=r.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district/").concat(t),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(r)}}).catch((function(e){console.log(e)}));case 3:return c=e.sent,l=c.json(),e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/district/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,c=r.json(),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},277:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var r=a(55),n=a.n(r),c=a(56),o=a(32),l=a(3),i=a(64),s=a(0),u=a.n(s),p=a(81),d=a(89),m=a(82),f=a(165),h=a(348),b=a(30),E=a(63),j=a.n(E),O=a(2),g=a(112);function v(){var e=Object(O.g)().id,t=u.a.useState({code:"",names:"",phone:"",address:"",email:"",status:!0,password:"",password2:"",loading:!1,loadingBtn:!1,redirectToPage:!1,error:!1,reload:!1,token:"00033"}),a=Object(i.a)(t,2),r=a[0],s=a[1],E=r.code,v=r.names,w=r.phone,y=r.email,B=r.password,x=r.password2,C=r.address,k=r.status,P=r.error,T=r.loading,D=r.loadingBtn,G=r.reload,I=r.redirectToPage,L=r.token,q=function(e){return function(t){s(Object(l.a)(Object(l.a)({},r),{},Object(o.a)({},e,t.target.value)))}},A=function(e){e.preventDefault(),s(Object(l.a)(Object(l.a)({},r),{},{loading:!1,error:!1,reload:!G}))},z=function(){var t=Object(c.a)(n.a.mark((function t(){var a,c,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={code:E,names:v,phone:w,email:y,password:B,password2:x,address:C,status:k},t.next=3,Object(g.b)(e,a,L);case 3:if(c=t.sent){t.next=7;break}return j.a.fire("Oops...","internet server error, Please, check your network connection","error"),t.abrupt("return",s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})));case 7:if(!c.error){t.next=10;break}return j.a.fire("Oops...",c.error,"error"),t.abrupt("return",s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})));case 10:if(!c.message){t.next=15;break}return j.a.fire("Saved...",c.message,"success"),s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1,redirectToPage:!0})),o=j.a.mixin({toast:!0,timerProgressBar:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),t.abrupt("return",o.fire({animation:!0,type:"success",title:"Request is successful"}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u.a.useEffect((function(){var t=!1;return function(){var a=Object(c.a)(n.a.mark((function a(){var r,c,o,i,u,p,d;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})),a.next=3,Object(g.c)(e);case 3:if(r=a.sent,t){a.next=17;break}if(r){a.next=9;break}return j.a.fire("Oops...","internet server error, Please, check your network connection","error"),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:!0})})),a.abrupt("return");case 9:if(!r.error){a.next=13;break}return j.a.fire("Oops...",r.error,"error"),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:!0})})),a.abrupt("return");case 13:if(!r.message){a.next=17;break}return c=r.data,o=c.code,i=c.names,u=c.email,p=c.phone,d=c.address,s((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:!1,code:o,phone:p,email:u,names:i,address:d})})),a.abrupt("return",j.a.fire("Great",r.message,"success"));case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){t=!0}}),[G,e]),u.a.createElement(b.a,null,function(){if(I)return u.a.createElement(O.a,{to:"/admin/districts/read"})}(),function(){if(P)return u.a.createElement(b.a,null,u.a.createElement(p.a,null,u.a.createElement(d.a,null,u.a.createElement(m.a,null,u.a.createElement(m.a.Header,null,u.a.createElement(m.a.Title,{as:"h5"},"Error in reading this user .")),u.a.createElement(m.a.Body,null,u.a.createElement(p.a,null,u.a.createElement(d.a,null,u.a.createElement("h1",null,"failed to read district data, Try again ",u.a.createElement(f.a,{variant:"primary",onClick:A},"Reload")," "))))))))}(),T?function(){if(T)return u.a.createElement(b.a,null,u.a.createElement(p.a,null,u.a.createElement(d.a,null,u.a.createElement(m.a,null,u.a.createElement(m.a.Header,null,u.a.createElement(m.a.Title,{as:"h5"},"Wait !!!.")),u.a.createElement(m.a.Body,null,u.a.createElement(p.a,null,u.a.createElement(d.a,null,u.a.createElement("h1",null,"Requesting for District  data"))))))))}():u.a.createElement(p.a,null,u.a.createElement(d.a,null,u.a.createElement(m.a,null,u.a.createElement(m.a.Header,null,u.a.createElement(m.a.Title,{as:"h3"},"Update the District")),u.a.createElement(m.a.Body,null,u.a.createElement(p.a,null,u.a.createElement(d.a,{md:6},u.a.createElement(h.a,null,u.a.createElement(h.a.Group,{controlId:"formBasicEmail"},u.a.createElement(h.a.Label,null,"District Code"),u.a.createElement(h.a.Control,{type:"text",placeholder:"district code",onChange:q("code"),value:E})),u.a.createElement(h.a.Group,{controlId:"formBasicEmail"},u.a.createElement(h.a.Label,null,"District Name"),u.a.createElement(h.a.Control,{type:"text",placeholder:"district name",onChange:q("names"),value:v})),u.a.createElement(h.a.Group,{controlId:"formBasicEmail"},u.a.createElement(h.a.Label,null,"Phone "),u.a.createElement(h.a.Control,{type:"text",placeholder:"district phone",onChange:q("phone"),value:w})),u.a.createElement(h.a.Group,{controlId:"formBasicPassword"},u.a.createElement(h.a.Label,null,"Password"),u.a.createElement(h.a.Control,{type:"password",placeholder:"Password",onChange:q("password"),value:B})),D?"loading ...":u.a.createElement(f.a,{variant:"primary",onClick:function(e){return e.preventDefault(),s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!0})),""===E?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","District code is required","error")):""===v?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","District name is required","error")):""===w?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","District Phone number is required","error")):""===C?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","District address is required","error")):""===y?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","District email is required","error")):""===B?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","Password can not be an empty value","error")):B!==x?(s(Object(l.a)(Object(l.a)({},r),{},{loadingBtn:!1})),j.a.fire("Oops...","Password must match each other","error")):void z()}},"Update.."))),u.a.createElement(d.a,{md:6},u.a.createElement(h.a.Group,{controlId:"formBasicEmail"},u.a.createElement(h.a.Label,null,"Address "),u.a.createElement(h.a.Control,{type:"text",placeholder:"building/house name, city",onChange:q("address"),value:C})),u.a.createElement(h.a.Group,{controlId:"formBasicEmail"},u.a.createElement(h.a.Label,null,"Officer-in- charge"),u.a.createElement(h.a.Control,{type:"text",placeholder:"Education District ID"})),u.a.createElement(h.a.Group,{controlId:"exampleForm.ControlInput1"},u.a.createElement(h.a.Label,null,"email "),u.a.createElement(h.a.Control,{type:"email",placeholder:"email",onChange:q("email"),value:y})),u.a.createElement(h.a.Group,{controlId:"formBasicPassword"},u.a.createElement(h.a.Label,null,"Password Confirmation"),u.a.createElement(h.a.Control,{type:"password",placeholder:"Password Confirmation",onChange:q("password2"),value:x})))))))))}}}]);
//# sourceMappingURL=93.1c61375b.chunk.js.map