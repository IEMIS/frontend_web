{"version":3,"sources":["screen/district/school/api/index.js","screen/district/school/Edit.js"],"names":["BASE_URL","create","user","token","a","fetch","method","body","JSON","stringify","headers","accept","Authorization","catch","err","console","log","response","data","json","reads","read","remove","readsDistrict","Edit","id","useParams","React","useState","code","district","names","address","email","fax","mailBox","phone","province","eduLevel","ownership","estabYear","schoolCat","schoolType","headID","password","password2","loading","redirectToPage","districtList","values","setValues","handleChange","name","event","target","value","handleCreate","school","contact","Swal","fire","error","message","Toast","mixin","toast","timerProgressBar","position","showConfirmButton","timer","animation","type","title","useEffect","dist","v","da","bootstrap","to","redirectUser","Header","Title","as","Body","md","Group","controlId","Label","Control","placeholder","onChange","disabled","length","map","_id","variant","onClick","preventDefault"],"mappings":"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","file":"static/js/96.b535a626.chunk.js","sourcesContent":["//let  BASE_URL = \"\",\r\n\r\nconst BASE_URL = \"https://iemis.herokuapp.com/api/v1\"\r\n\r\nexport const create = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools`,{\r\n            method:'POST',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json', \r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\nexport const reads = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools`,{\r\n            method:'GET',\r\n            body:JSON.stringify(user),\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json', \r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const read = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/${user}`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const edit = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/${user}`,{\r\n            method:'PUT',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\nexport const remove = async (user, token)=>{\r\n    try{\r\n        const response = await fetch(`${BASE_URL}/schools/${user}`,{\r\n            method:'DELETE',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}\r\n\r\n//get district \r\nexport const readsDistrict = async (token)=>{\r\n    try{\r\n        //district\r\n        const response = await fetch(`${BASE_URL}/district`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                accept:'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n        const data = response.json();\r\n        return data;\r\n    }catch(e){console.log(e)}\r\n}","import React from 'react'\r\nimport {Row, Col, Card, Form, Button} from 'react-bootstrap';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Swal from 'sweetalert2'\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\nimport { create, read, readsDistrict } from './api';\r\n\r\n\r\nexport default function Edit() {\r\n    let { id } = useParams();\r\n\r\n    const [values, setValues] = React.useState({\r\n        code:\"\",\r\n        district:\"\",\r\n        names:\"\",\r\n        address:\"\",\r\n        email:\"\",\r\n        fax:\"\",\r\n        mailBox:\"\",\r\n        phone:\"\",\r\n        province:\"\",\r\n        eduLevel:\"\",\r\n        ownership:\"\",\r\n        estabYear:\"\",\r\n        schoolCat:\"\",\r\n        schoolType:\"\",\r\n        headID:\"\",\r\n        password:\"\",\r\n        password2:\"\",\r\n        loading:false,\r\n        redirectToPage:false,\r\n        districtList:[]\r\n    })\r\n    const {code, names,district, phone, email, password, password2, address,fax,mailBox,province,eduLevel,ownership,estabYear,schoolCat,schoolType,headID, loading, redirectToPage, districtList} = values\r\n\r\n    const handleChange = name=>event=>{\r\n        setValues({...values, [name]:event.target.value})\r\n    }\r\n\r\n    const submit = event =>{\r\n        event.preventDefault();\r\n        setValues({...values, loading:true})\r\n        if(code===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School code is required', 'error');\r\n        }\r\n        if(district===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District is required', 'error');\r\n        }\r\n        if(names===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School Name is required', 'error');\r\n        }\r\n        if(schoolType===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School Type is required', 'error');\r\n        }\r\n        if(schoolCat===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School Category is required', 'error');\r\n        }\r\n        if(estabYear===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Establishment Year is required', 'error');\r\n        }\r\n        if(ownership===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School ownership is required', 'error');\r\n        }\r\n        if(eduLevel===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Education Level is required', 'error');\r\n        }\r\n        if(province===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School locality is required', 'error');\r\n        }\r\n        if(mailBox===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'School mailBox is required', 'error');\r\n        }\r\n        if(fax===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Fax is required', 'error');\r\n        }\r\n        if(phone===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Phone number is required', 'error');\r\n        }\r\n        if(address===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District address is required', 'error');\r\n        }\r\n        if(email===\"\"){ \r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'District email is required', 'error');\r\n        }\r\n\r\n        if(password===\"\") {\r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Password must empty', 'error');\r\n        }\r\n\r\n        if(password !== password2) {\r\n            setValues({...values, loading:false})\r\n            return Swal.fire('Oops...', 'Password must match each other', 'error');\r\n        }\r\n        handleCreate();\r\n    }\r\n\r\n    const handleCreate =async ()=>{\r\n        //const user = {code, names,district, phone, email, password, password2, address,fax,mailBox,province,eduLevel,ownership,estabYear,schoolCat,schoolType,headID, loading, redirectToPage, districtList}\r\n        const school = {code, names, district, email, contact:[{phone, fax, mailBox, province, address}],eduLevel, ownership, estabYear, schoolCat, schoolType, headID, password}\r\n        const data = await create(school);\r\n        console.log(data)\r\n        if(!data){\r\n            Swal.fire('Oops...', 'internet server error, Please, check your network connection', 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.error){\r\n            Swal.fire('Oops...', data.error, 'error')\r\n            return setValues({...values, loading:false})\r\n        }\r\n\r\n        if(data.message){\r\n            Swal.fire('Saved...', data.message, 'success')\r\n           setValues({...values, loading:false, redirectToPage:true})\r\n           let Toast = Swal.mixin({\r\n            toast: true,\r\n            timerProgressBar: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000\r\n            });\r\n\r\n            return Toast.fire({\r\n                animation: true,\r\n                type: 'success',\r\n                title: 'Request is successful'\r\n            })\r\n        }\r\n    }\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToPage){\r\n            return <Redirect to=\"/admin/schools/create\" />\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        //const token = '9999e88e8';\r\n        const bootstrap = async () =>{\r\n            const dist = await readsDistrict();\r\n            let code = `SCH${`0012`}`;\r\n            setValues(v => ({...v, districtList:dist.data, code}));\r\n            const da = await read(id);\r\n            console.log(da) \r\n        }\r\n        bootstrap()\r\n    }, [id])\r\n\r\n    return (\r\n        <Aux>\r\n            {redirectUser()}\r\n            <Row>\r\n                    <Col>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <Card.Title as=\"h3\">Update School data</Card.Title>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col md={6}>\r\n                                        <Form>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>School Code</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"school code\" onChange={handleChange(\"code\")} value={code} disabled />\r\n                                            </Form.Group>\r\n\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>School Name</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"school name\" onChange={handleChange(\"names\")} value={names} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>District</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"district\")} value={district}>\r\n                                                <option>Select district</option>\r\n                                               {\r\n                                                   districtList && districtList.length > 0 \r\n                                                   ?\r\n                                                   districtList.map((dist, id)=>{\r\n                                                       return(\r\n                                                        <option value={dist._id}>{dist.names}</option>\r\n                                                       ) \r\n                                                   }) : <option value=\"0\">Fails to fetch district</option>\r\n                                               }\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Address </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"location, province e.g Veisaru Road, Savusavu\" onChange={handleChange(\"address\")} value={address} />\r\n                                            </Form.Group>\r\n                                           \r\n                                            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Locality</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"province\")} value={province}>\r\n                                                <option>Select locality</option>\r\n                                                <option value=\"Metropolian\">City Metropolian</option>\r\n                                                <option value=\"Surburban\">City Surburban</option>\r\n                                                <option value=\"Urban\">Peri Urban</option>\r\n                                                <option value=\"Remote\">Remote</option>\r\n                                                <option value=\"Rural\">Rural</option>\r\n                                                <option value=\"Town\">Town</option>\r\n                                                <option value=\"Very-Remote\">Very Remote</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Mailing Address </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"P.O BOX 123, Tavua\" onChange={handleChange(\"mailBox\")} value={mailBox} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Phone </Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"official school phone number\" onChange={handleChange(\"phone\")} value={phone} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Fax</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"school fax\" onChange={handleChange(\"fax\")} value={fax} />\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>School Head</Form.Label>\r\n                                                <Form.Control type=\"text\" placeholder=\"staff ID\" onChange={handleChange(\"headID\")} value={headID} />\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                    </Col>\r\n                                    <Col md={6}>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Education Level</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"eduLevel\")} value={eduLevel}>\r\n                                                <option>Select Education Level</option>\r\n                                                <option value=\"ECE\">ECE</option>\r\n                                                <option value=\"Primary\">Primary</option>\r\n                                                <option value=\"Secondary\">Secondary</option>\r\n                                                <option value=\"TVET\">TVET</option>\r\n                                            </Form.Control>\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"formBasicEmail\">\r\n                                                <Form.Label>Estab. Year </Form.Label>\r\n                                                <Form.Control type=\"date\" placeholder=\"year founded\" onChange={handleChange(\"estabYear\")} value={estabYear} />\r\n                                            </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Ownership</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"ownership\")} value={ownership}>\r\n                                                <option>Select School Ownership</option>\r\n                                                <option value=\"Government\">Government</option>\r\n                                                <option value=\"Non-Government\">Non-Government</option>\r\n                                                <option value=\"Private\">Private</option>\r\n                                                \r\n                                            </Form.Control>\r\n                                    </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>School Category</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"schoolCat\")} value={schoolCat}>\r\n                                                <option>Select School Category</option>\r\n                                                <option value=\"Regular\">Regular</option>\r\n                                                <option value=\"Special\">Special</option>\r\n                                            </Form.Control>\r\n                                     </Form.Group>\r\n                                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>School Type</Form.Label>\r\n                                            <Form.Control as=\"select\" onChange={handleChange(\"schoolType\")} value={schoolType}>\r\n                                                <option>Select School Type</option>\r\n                                                <option value=\"Day\">Day</option>\r\n                                                <option value=\"Boarding1\">Registered Boarding</option>\r\n                                                <option value=\"Boarding2\">Unregistered Boarding</option>\r\n                                            </Form.Control>\r\n                                     </Form.Group>\r\n                                        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                                            <Form.Label>email </Form.Label>\r\n                                            <Form.Control type=\"email\" placeholder=\"email\" onChange={handleChange(\"email\")} value={email}/>\r\n                                        </Form.Group>\r\n                                        <Form.Group controlId=\"formBasicPassword\">\r\n                                                <Form.Label>Password</Form.Label>\r\n                                                <Form.Control type=\"password\" placeholder=\"Password\" onChange={handleChange(\"password\")} value={password} />\r\n                                            </Form.Group>\r\n                                        <Form.Group controlId=\"formBasicPassword\">\r\n                                            <Form.Label>Password Confirmation</Form.Label>\r\n                                            <Form.Control type=\"password\" placeholder=\"Password Confirmation\" onChange={handleChange(\"password2\")} value={password2} />\r\n                                        </Form.Group>\r\n                                        \r\n                                        {\r\n                                                loading ? \"loading ...\" : <Button variant=\"primary\" onClick={submit}  >Update ..</Button>\r\n                                            }\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n        </Aux>\r\n    )\r\n}\r\n"],"sourceRoot":""}