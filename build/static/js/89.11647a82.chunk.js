(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[89],{125:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return i})),t.d(a,"d",(function(){return s})),t.d(a,"c",(function(){return u}));var r=t(55),n=t.n(r),o=t(56),l="https://iemis.herokuapp.com/api/v1",c=function(){var e=Object(o.a)(n.a.mark((function e(a,t){var r,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/schools"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(t)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,o=r.json(),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(n.a.mark((function e(a,t){var r,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/schools"),{method:"GET",body:JSON.stringify(a),headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(t)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,o=r.json(),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(n.a.mark((function e(a,t){var r,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/schools/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(t)}}).catch((function(e){console.log(e)}));case 3:return r=e.sent,o=r.json(),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/school"),{method:"GET",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)}}).catch((function(e){console.log(e)}));case 3:return t=e.sent,r=t.json(),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()},240:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var r=t(55),n=t.n(r),o=t(56),l=t(32),c=t(3),i=t(64),s=t(0),u=t.n(s),p=t(81),m=t(89),d=t(82),E=t(348),h=t(165),f=t(30),b=t(63),g=t.n(b),v=t(2),O=t(125);function j(){var e=u.a.useState({teacherCode:"",school:"",firstName:"",middleName:"",lastName:"",title:"",gender:"",dob:"",nationality:"",qualification:"",email:"",phone:"",subjectTaught:"",classTaking:"",subjectSpecialisation:"",level:"",typeOfstaff:"",firstappt:"",lastPosting:"",contractYears:"",retirementyear:"",gradeLevel:"",designation:"",serviceStatus:"",teachingTypes:"",teachingPeriodWK:"",Engagement:"",session:"",lastWorkshop:"",password:"",password2:"",loading:!1,redirectToPage:!1,schoolList:[],subjectList:[]}),a=Object(i.a)(e,2),t=a[0],r=a[1],s=t.teacherCode,b=t.school,j=t.firstName,C=t.middleName,y=t.lastName,S=t.title,L=t.gender,x=t.dob,T=t.nationality,G=t.qualification,w=t.email,I=t.phone,N=t.subjectTaught,P=t.classTaking,k=t.subjectSpecialisation,q=t.level,B=t.typeOfstaff,F=t.firstappt,M=t.lastPosting,A=t.contractYears,Y=t.retirementyear,W=t.designation,D=t.serviceStatus,K=t.teachingTypes,z=t.teachingPeriodWK,J=t.Engagement,R=t.session,H=t.gradeLevel,Q=t.lastWorkshop,_=t.password,U=t.password2,V=t.loading,X=t.redirectToPage,Z=t.schoolList,$=t.subjectList,ee=function(e){return function(a){r(Object(c.a)(Object(c.a)({},t),{},Object(l.a)({},e,a.target.value)))}},ae=function(){var e=Object(o.a)(n.a.mark((function e(){var a,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={teacherCode:s,school:b,firstName:j,middleName:C,lastName:y,title:S,gender:L,dob:x,nationality:T,qualification:G,email:w,phone:I,subjectTaught:N,classTaking:P,subjectSpecialisation:k,level:q,typeOfstaff:B,firstappt:F,lastPosting:M,contractYears:A,retirementyear:Y,designation:W,serviceStatus:D,teachingTypes:K,teachingPeriodWK:z,Engagement:J,session:R,lastWorkshop:Q,password:_},e.next=3,Object(O.a)(a);case 3:if(o=e.sent,console.log(o),o){e.next=8;break}return g.a.fire("Oops...","internet server error, Please, check your network connection","error"),e.abrupt("return",r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})));case 8:if(!o.error){e.next=11;break}return g.a.fire("Oops...",o.error,"error"),e.abrupt("return",r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})));case 11:if(!o.message){e.next=16;break}return g.a.fire("Saved...",o.message,"success"),r(Object(c.a)(Object(c.a)({},t),{},{loading:!1,redirectToPage:!0})),l=g.a.mixin({toast:!0,timerProgressBar:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),e.abrupt("return",l.fire({animation:!0,type:"success",title:"Request is successful"}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.useEffect((function(){(function(){var e=Object(o.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)();case 2:a=e.sent,t="SCH".concat("0012"),r((function(e){return Object(c.a)(Object(c.a)({},e),{},{districtList:a.data,teacherCode:t})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),u.a.createElement(f.a,null,function(){if(X)return u.a.createElement(v.a,{to:"/admin/schools/create"})}(),u.a.createElement(p.a,null,u.a.createElement(m.a,null,u.a.createElement(d.a,null,u.a.createElement(d.a.Header,null,u.a.createElement(d.a.Title,{as:"h3"},"Add New Teacher")),u.a.createElement(d.a.Body,null,u.a.createElement(p.a,null,u.a.createElement(m.a,{md:6},u.a.createElement(E.a,null,u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Teacher Code"),u.a.createElement(E.a.Control,{type:"text",placeholder:"Teacher Code",onChange:ee("teacherCode"),value:s,disabled:!0})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Title"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("title"),value:S},u.a.createElement("option",null,"Select"),u.a.createElement("option",{value:"Mr."},"Mr."),u.a.createElement("option",{value:"Mrs."},"Mrs."),u.a.createElement("option",{value:"Ms."},"Ms."),u.a.createElement("option",{value:"Miss."},"Miss."),u.a.createElement("option",{value:"Dr."},"Dr."))),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"First Name"),u.a.createElement(E.a.Control,{type:"text",placeholder:"First Name",onChange:ee("firstName"),value:j})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Middle Name"),u.a.createElement(E.a.Control,{type:"text",placeholder:"Middle Name",onChange:ee("middleName"),value:C})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Last Name"),u.a.createElement(E.a.Control,{type:"text",placeholder:"Last Name",onChange:ee("lastName"),value:y})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"School"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("school"),value:b},u.a.createElement("option",null,"Select School"),Z&&Z.length>0?Z.map((function(e,a){return u.a.createElement("option",{value:e._id},b.names)})):u.a.createElement("option",{value:"0"},"Fails to fetch school"))),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Date of Birth "),u.a.createElement(E.a.Control,{type:"date",placeholder:"dob",onChange:ee("dob"),value:x})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Gender"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("gender"),value:L},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"Male"},"Male"),u.a.createElement("option",{value:"Female"},"Female"))),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Nationality"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("nationality"),value:T},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"Fijian"},"Male"),u.a.createElement("option",{value:"Regional"},"Female"),u.a.createElement("option",{value:"Foreigner"},"Foreigner"))),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Qualification "),u.a.createElement(E.a.Control,{type:"text",placeholder:"NCE, B.Ed, B.Sc, M.Ed, M.Sc etc",onChange:ee("qualification"),value:G})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Phone "),u.a.createElement(E.a.Control,{type:"text",placeholder:"phone number",onChange:ee("phone"),value:I})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Subject"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("subjectTaught"),value:N},u.a.createElement("option",null,"Select subject"),$&&$.length>0?$.map((function(e,a){return u.a.createElement("option",{value:e._id},e.subject)})):u.a.createElement("option",{value:"0"},"Fails to fetch subject"))),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"subject Specialisation"),u.a.createElement(E.a.Control,{type:"text",placeholder:"English, Biochemistry",onChange:ee("subjectSpecialisation"),value:k})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Email"),u.a.createElement(E.a.Control,{type:"text",placeholder:"email",onChange:ee("email"),value:w})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Role"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("level"),value:q},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"1"},"Class Teacher"),u.a.createElement("option",{value:"2"},"Subject Teacher"),u.a.createElement("option",{value:"3"},"Ass. Teacher"))),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Staff Type"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("typeOfstaff"),value:B},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"1"},"Government"),u.a.createElement("option",{value:"2"},"PTA "),u.a.createElement("option",{value:"2"},"Private "))))),u.a.createElement(m.a,{md:6},u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"First Appointment "),u.a.createElement(E.a.Control,{type:"date",placeholder:"23/12/2020",onChange:ee("firstappt"),value:F})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Last Posting "),u.a.createElement(E.a.Control,{type:"date",placeholder:"date",onChange:ee("lastPosting"),value:M})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Contract Years "),u.a.createElement(E.a.Control,{type:"number",placeholder:"years",onChange:ee("contractYears"),value:A})),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Grade Level "),u.a.createElement(E.a.Control,{type:"text",placeholder:"GL.10",onChange:ee("gradeLevel"),value:H})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Service Status"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("serviceStatus"),value:D},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"Active"},"Active"),u.a.createElement("option",{value:"Maternity"},"Maternity-Leave"),u.a.createElement("option",{value:"study"},"Study-Leave"),u.a.createElement("option",{value:"sick"},"Sick-Leave"),u.a.createElement("option",{value:"disengaged"},"disengaged"),u.a.createElement("option",{value:"retired"},"retired"),u.a.createElement(E.a.Group,{controlId:"formBasicEmail"},u.a.createElement(E.a.Label,null,"Designation "),u.a.createElement(E.a.Control,{type:"text",placeholder:"Senior Master",onChange:ee("designation"),value:W})))),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Administrative"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("Engagement"),value:J},u.a.createElement("option",null,"Select"),u.a.createElement("option",{value:"Yes"},"Yes"),u.a.createElement("option",{value:"No"},"No"))),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlInput1"},u.a.createElement(E.a.Label,null,"Session"),u.a.createElement(E.a.Control,{type:"text",placeholder:"YYYY",onChange:ee("session"),value:R})),u.a.createElement(E.a.Group,{controlId:"formBasicPassword"},u.a.createElement(E.a.Label,null,"Password"),u.a.createElement(E.a.Control,{type:"password",placeholder:"Password",onChange:ee("password"),value:_})),u.a.createElement(E.a.Group,{controlId:"formBasicPassword"},u.a.createElement(E.a.Label,null,"Password Confirmation"),u.a.createElement(E.a.Control,{type:"password",placeholder:"Password Confirmation",onChange:ee("password2"),value:U})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlSelect1"},u.a.createElement(E.a.Label,null,"Teaching Type"),u.a.createElement(E.a.Control,{as:"select",onChange:ee("teachingTypes"),value:K},u.a.createElement("option",null,"Select "),u.a.createElement("option",{value:"1"},"Full-Time"),u.a.createElement("option",{value:"2"},"Part-Time"))),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlInput1"},u.a.createElement(E.a.Label,null,"Teaching Period WK"),u.a.createElement(E.a.Control,{type:"number",placeholder:"42 periods per week",onChange:ee("teachingPeriodWK"),value:z})),u.a.createElement(E.a.Group,{controlId:"exampleForm.ControlInput1"},u.a.createElement(E.a.Label,null,"Last Workshop"),u.a.createElement(E.a.Control,{type:"date",placeholder:"most recent",onChange:ee("lastWorskshop"),value:Q})),V?"loading ...":u.a.createElement(h.a,{variant:"primary",onClick:function(e){return e.preventDefault(),r(Object(c.a)(Object(c.a)({},t),{},{loading:!0})),""===s?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Teacher code is required","error")):""===b?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","School Name is required","error")):""===j?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","First Name is required","error")):""===y?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Last Name is required","error")):""===S?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","title is required","error")):""===L?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Gender is required","error")):""===x?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Date of birth is required","error")):""===T?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","National is required","error")):""===G?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Qualification is required","error")):""===w?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Email is required","error")):""===I?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Phone number is required","error")):""===N?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Subject taught is required","error")):""===P?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Classes taken is required","error")):""===k?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Subject Specialisation is required","error")):""===q?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Role is required","error")):""===B?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Staff type is required","error")):""===F?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Date of First appointment is required","error")):""===H?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Grade Level is required","error")):""===W?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Designation is required","error")):""===D?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Service Status is required","error")):""===K?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Teaching Type is required","error")):""===R?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Session is required","error")):""===_?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Password must empty","error")):_!==U?(r(Object(c.a)(Object(c.a)({},t),{},{loading:!1})),g.a.fire("Oops...","Password must match each other","error")):void ae()}},"Create .."))))))))}}}]);
//# sourceMappingURL=89.11647a82.chunk.js.map